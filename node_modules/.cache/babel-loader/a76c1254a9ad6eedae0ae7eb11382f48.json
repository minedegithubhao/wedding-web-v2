{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/eslint-loader/index.js??ref--13-0!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/utils/permissions.js","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/utils/permissions.js","mtime":1605568762443},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpleHBvcnQgZnVuY3Rpb24gYWN0aW9uVG9PYmplY3QoanNvbikgewogIHRyeSB7CiAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKTsKICB9IGNhdGNoIChlKSB7CiAgICBjb25zb2xlLmxvZygnZXJyJywgZS5tZXNzYWdlKTsKICB9CgogIHJldHVybiBbXTsKfSAvLyDmnYPpmZDmo4Dmn6Xmlrnms5UKCmV4cG9ydCBmdW5jdGlvbiBjaGVja1Blcm1pc3Npb24odmFsdWUpIHsKICAvLyB1c2VySWQ9MeebtOaOpeaLpeacieaJgOS7peadg+mZkAogIHZhciB1c2VySWQgPSBzdG9yZS5nZXR0ZXJzLnVzZXJJZDsKICBpZiAodXNlcklkID09PSAxKSByZXR1cm4gdHJ1ZTsgLy8g6I635Y+W55So5oi35oyJ6ZKu5p2D6ZmQCgogIHZhciBpc0V4aXN0ID0gZmFsc2U7CiAgdmFyIGR5bmFtaWNCdXR0b25zID0gc3RvcmUuZ2V0dGVycy5idXR0b25zOyAvLyBjb25zb2xlLmxvZygncGVybWlzc2lvbicsIHZhbHVlKQogIC8vIGNvbnNvbGUubG9nKCdkeW5hbWljQnV0dG9ucycsIGR5bmFtaWNCdXR0b25zKQoKICBpZiAoZHluYW1pY0J1dHRvbnMgPT09IHVuZGVmaW5lZCB8fCBkeW5hbWljQnV0dG9ucyA9PT0gbnVsbCB8fCBkeW5hbWljQnV0dG9ucy5sZW5ndGggPCAxKSB7CiAgICByZXR1cm4gaXNFeGlzdDsKICB9CgogIGR5bmFtaWNCdXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ1dHRvbikgewogICAgaWYgKGJ1dHRvbiA9PT0gdmFsdWUpIHsKICAgICAgaXNFeGlzdCA9IHRydWU7IC8vIGNvbnNvbGUubG9nKCdoYXMgcGVybWlzc2lvbiBidXR0b24nLCBidXR0b24pCgogICAgICByZXR1cm4gaXNFeGlzdDsKICAgIH0KICB9KTsKICByZXR1cm4gaXNFeGlzdDsKfQ=="},{"version":3,"sources":["/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/utils/permissions.js"],"names":["store","actionToObject","json","JSON","parse","e","console","log","message","checkPermission","value","userId","getters","isExist","dynamicButtons","buttons","undefined","length","forEach","button"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,SAAlB;AACA,OAAO,SAASC,cAAT,CAAyBC,IAAzB,EAA+B;AACpC,MAAI;AACF,WAAOC,IAAI,CAACC,KAAL,CAAWF,IAAX,CAAP;AACD,GAFD,CAEE,OAAOG,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,CAAC,CAACG,OAArB;AACD;;AACD,SAAO,EAAP;AACD,C,CACD;;AACA,OAAO,SAASC,eAAT,CAA0BC,KAA1B,EAAiC;AACtC;AACA,MAAMC,MAAM,GAAGX,KAAK,CAACY,OAAN,CAAcD,MAA7B;AACA,MAAIA,MAAM,KAAK,CAAf,EAAkB,OAAO,IAAP,CAHoB,CAItC;;AACA,MAAIE,OAAO,GAAG,KAAd;AACA,MAAMC,cAAc,GAAGd,KAAK,CAACY,OAAN,CAAcG,OAArC,CANsC,CAOtC;AACA;;AACA,MAAID,cAAc,KAAKE,SAAnB,IAAgCF,cAAc,KAAK,IAAnD,IAA2DA,cAAc,CAACG,MAAf,GAAwB,CAAvF,EAA0F;AACxF,WAAOJ,OAAP;AACD;;AACDC,EAAAA,cAAc,CAACI,OAAf,CAAuB,UAAAC,MAAM,EAAI;AAC/B,QAAIA,MAAM,KAAKT,KAAf,EAAsB;AACpBG,MAAAA,OAAO,GAAG,IAAV,CADoB,CAEpB;;AACA,aAAOA,OAAP;AACD;AACF,GAND;AAOA,SAAOA,OAAP;AACD","sourcesContent":["import store from '@/store'\nexport function actionToObject (json) {\n  try {\n    return JSON.parse(json)\n  } catch (e) {\n    console.log('err', e.message)\n  }\n  return []\n}\n// 权限检查方法\nexport function checkPermission (value) {\n  // userId=1直接拥有所以权限\n  const userId = store.getters.userId\n  if (userId === 1) return true\n  // 获取用户按钮权限\n  let isExist = false\n  const dynamicButtons = store.getters.buttons\n  // console.log('permission', value)\n  // console.log('dynamicButtons', dynamicButtons)\n  if (dynamicButtons === undefined || dynamicButtons === null || dynamicButtons.length < 1) {\n    return isExist\n  }\n  dynamicButtons.forEach(button => {\n    if (button === value) {\n      isExist = true\n      // console.log('has permission button', button)\n      return isExist\n    }\n  })\n  return isExist\n}\n"]}]}