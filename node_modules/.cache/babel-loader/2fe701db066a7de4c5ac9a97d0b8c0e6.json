{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/eslint-loader/index.js??ref--13-0!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/utils/treeutil.js","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/utils/treeutil.js","mtime":1605568762444},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKCi8qKgogKiDmnoTpgKDmoJHlnovnu5PmnoTmlbDmja4KICogQHBhcmFtIHsqfSBzb3VyY2Ug5pWw5o2u5rqQCiAqIEBwYXJhbSB7Kn0gaWQgaWTlrZfmrrUg6buY6K6kICdpZCcKICogQHBhcmFtIHsqfSBwYXJlbnRJZCDniLboioLngrnlrZfmrrUg6buY6K6kICdwYXJlbnRJZCcKICogQHBhcmFtIHsqfSBjaGlsZHJlbiDlranlrZDoioLngrnlrZfmrrUg6buY6K6kICdjaGlsZHJlbicKICogQHBhcmFtIHsqfSByb290SWQg5qC5SWQg6buY6K6kIDAKICovCmV4cG9ydCBmdW5jdGlvbiB0cmVlRGF0YShzb3VyY2UsIGlkLCBwYXJlbnRJZCwgY2hpbGRyZW4sIHJvb3RJZCkgewogIGlkID0gaWQgfHwgJ2lkJzsKICBwYXJlbnRJZCA9IHBhcmVudElkIHx8ICdwYXJlbnRJZCc7CiAgY2hpbGRyZW4gPSBjaGlsZHJlbiB8fCAnY2hpbGRyZW4nOwogIHJvb3RJZCA9IHJvb3RJZCB8fCAwOwogIHZhciBjbG9uZURhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNvdXJjZSkpOyAvLyDlr7nmupDmlbDmja7mt7HluqblhYvpmoYKCiAgcmV0dXJuIGNsb25lRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGZhdGhlcikgewogICAgdmFyIGJyYW5jaEFyciA9IGNsb25lRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgIHJldHVybiBmYXRoZXJbaWRdID09PSBjaGlsZFtwYXJlbnRJZF07CiAgICB9KTsgLy8g6L+U5Zue5q+P5LiA6aG555qE5a2Q57qn5pWw57uECgogICAgYnJhbmNoQXJyLmxlbmd0aCA+IDAgPyBmYXRoZXJbY2hpbGRyZW5dID0gYnJhbmNoQXJyIDogZGVsZXRlIGZhdGhlcltjaGlsZHJlbl07IC8vIOWmguaenOWtmOWcqOWtkOe6p++8jOWImee7meeItue6p+a3u+WKoOS4gOS4qmNoaWxkcmVu5bGe5oCn77yM5bm26LWL5YC8CgogICAgcmV0dXJuIGZhdGhlcltwYXJlbnRJZF0gPT09IHJvb3RJZDsgLy8g6L+U5Zue56ys5LiA5bGCCiAgfSk7Cn0KLyoqCiAqIOaehOmAoOagkemAieaLqeahhuagkeWei+e7k+aehOaVsOaNrgogKiBAcGFyYW0geyp9IHNvdXJjZSDmlbDmja7mupAKICogQHBhcmFtIHsqfSBpZCBpZOWtl+autSDpu5jorqQgJ2lkJwogKiBAcGFyYW0geyp9IG5hbWUgbmFtZeWtl+autSDpu5jorqQgJ25hbWUnCiAqIEBwYXJhbSB7Kn0gcGlkIOeItuiKgueCueWtl+autSDpu5jorqQgJ3BpZCcKICogQHBhcmFtIHsqfSByb290SWQg5qC5SWQg6buY6K6kIDAKICogQHBhcmFtIHsqfSB0aXRsZSDmoLnlkI3np7Ag6buY6K6kICfml6AnCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHRyZWVTZWxlY3REYXRhKHNvdXJjZSkgewogIHZhciBpc1NlbGVjdFBhcmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKICB2YXIgaGF2ZVJvb3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlOwogIHZhciByb290RGlzYWJsZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlOwogIHZhciBpZCA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ID8gYXJndW1lbnRzWzRdIDogdW5kZWZpbmVkOwogIHZhciBuYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgPyBhcmd1bWVudHNbNV0gOiB1bmRlZmluZWQ7CiAgdmFyIHBpZCA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ID8gYXJndW1lbnRzWzZdIDogdW5kZWZpbmVkOwogIHZhciByb290SWQgPSBhcmd1bWVudHMubGVuZ3RoID4gNyAmJiBhcmd1bWVudHNbN10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s3XSA6ICcwJzsKICB2YXIgdGl0bGUgPSBhcmd1bWVudHMubGVuZ3RoID4gOCAmJiBhcmd1bWVudHNbOF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s4XSA6ICfmiYDmnIknOwogIHZhciBkYXRhID0gaGF2ZVJvb3QgPyBbewogICAga2V5OiAnJywKICAgIHZhbHVlOiAnJywKICAgIHRpdGxlOiB0aXRsZSwKICAgIGNoaWxkcmVuOiBbXSwKICAgIGRpc2FibGVkOiByb290RGlzYWJsZWQsCiAgICBpc0xlYWY6IHJvb3REaXNhYmxlZAogIH1dIDogW107CiAgaWQgPSBpZCB8fCAnaWQnOwogIG5hbWUgPSBuYW1lIHx8ICduYW1lJzsKICBwaWQgPSBwaWQgfHwgJ3BpZCc7CiAgYnVpbGRUcmVlKHNvdXJjZSwgaWQsIG5hbWUsIHBpZCwgZGF0YSwgcm9vdElkLCBpc1NlbGVjdFBhcmVudCk7CiAgcmV0dXJuIGRhdGE7Cn0KCmZ1bmN0aW9uIGJ1aWxkVHJlZShsaXN0LCBpZCwgbmFtZSwgcGlkLCBhcnIsIHBhcmVudElkLCBpc1NlbGVjdFBhcmVudCkgewogIHZhciBmbGFnID0gdHJ1ZTsKICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmIChpdGVtW3BpZF0gPT09IHBhcmVudElkKSB7CiAgICAgIHZhciBjaGlsZCA9IHsKICAgICAgICBrZXk6IGl0ZW1baWRdLAogICAgICAgIHZhbHVlOiBpdGVtW2lkXSArICcnLAogICAgICAgIHRpdGxlOiBpdGVtW25hbWVdLAogICAgICAgIGNoaWxkcmVuOiBbXQogICAgICB9OwogICAgICB2YXIgaXNMZWFmID0gYnVpbGRUcmVlKGxpc3QsIGlkLCBuYW1lLCBwaWQsIGNoaWxkLmNoaWxkcmVuLCBpdGVtW2lkXSwgaXNTZWxlY3RQYXJlbnQpOwoKICAgICAgaWYgKCFpc0xlYWYgJiYgIWlzU2VsZWN0UGFyZW50KSB7CiAgICAgICAgY2hpbGQuZGlzYWJsZWQgPSB0cnVlOwogICAgICB9CgogICAgICBjaGlsZC5pc0xlYWYgPSBpc0xlYWY7CiAgICAgIHZhciBuZWVkUHVzaCA9IHRydWU7CiAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0ua2V5ID09PSBjaGlsZC5rZXkpIHsKICAgICAgICAgIG5lZWRQdXNoID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChuZWVkUHVzaCkgewogICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICBhcnIucHVzaChjaGlsZCk7CiAgICAgIH0KICAgIH0KICB9KTsKICByZXR1cm4gZmxhZzsKfQ=="},{"version":3,"sources":["/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/utils/treeutil.js"],"names":["treeData","source","id","parentId","children","rootId","cloneData","JSON","parse","stringify","filter","father","branchArr","child","length","treeSelectData","isSelectParent","haveRoot","rootDisabled","name","pid","title","data","key","value","disabled","isLeaf","buildTree","list","arr","flag","forEach","item","needPush","push"],"mappings":"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","sourcesContent":["/**\n * 构造树型结构数据\n * @param {*} source 数据源\n * @param {*} id id字段 默认 'id'\n * @param {*} parentId 父节点字段 默认 'parentId'\n * @param {*} children 孩子节点字段 默认 'children'\n * @param {*} rootId 根Id 默认 0\n */\nexport function treeData (source, id, parentId, children, rootId) {\n  id = id || 'id'\n  parentId = parentId || 'parentId'\n  children = children || 'children'\n  rootId = rootId || 0\n  const cloneData = JSON.parse(JSON.stringify(source))// 对源数据深度克隆\n  return cloneData.filter(father => {\n    const branchArr = cloneData.filter(child => father[id] === child[parentId])// 返回每一项的子级数组\n    branchArr.length > 0 ? father[children] = branchArr : delete father[children]// 如果存在子级，则给父级添加一个children属性，并赋值\n    return father[parentId] === rootId // 返回第一层\n  })\n}\n\n/**\n * 构造树选择框树型结构数据\n * @param {*} source 数据源\n * @param {*} id id字段 默认 'id'\n * @param {*} name name字段 默认 'name'\n * @param {*} pid 父节点字段 默认 'pid'\n * @param {*} rootId 根Id 默认 0\n * @param {*} title 根名称 默认 '无'\n */\nexport function treeSelectData(\n  source,\n  isSelectParent = true,\n  haveRoot = false,\n  rootDisabled = false,\n  id,\n  name,\n  pid,\n  rootId = '0',\n  title = '所有'\n) {\n  const data = haveRoot\n    ? [\n        {\n          key: '',\n          value: '',\n          title: title,\n          children: [],\n          disabled: rootDisabled,\n          isLeaf: rootDisabled\n        }\n      ]\n    : []\n  id = id || 'id'\n  name = name || 'name'\n  pid = pid || 'pid'\n  buildTree(source, id, name, pid, data, rootId, isSelectParent)\n  return data\n}\n\nfunction buildTree(list, id, name, pid, arr, parentId, isSelectParent) {\n  let flag = true\n  list.forEach(item => {\n    if (item[pid] === parentId) {\n      const child = {\n        key: item[id],\n        value: item[id] + '',\n        title: item[name],\n        children: []\n      }\n      const isLeaf = buildTree(list, id, name, pid, child.children, item[id], isSelectParent)\n      if (!isLeaf && !isSelectParent) {\n        child.disabled = true\n      }\n      child.isLeaf = isLeaf\n      let needPush = true\n      arr.forEach(item => {\n        if (item.key === child.key) {\n          needPush = false\n        }\n      })\n      if (needPush) {\n        flag = false\n        arr.push(child)\n      }\n    }\n  })\n  return flag\n}\n"]}]}