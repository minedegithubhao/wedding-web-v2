{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/pts/Screenshot/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/pts/Screenshot/index.vue","mtime":1605568762424},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGh0bWwyY2FudmFzIGZyb20gJ2h0bWwyY2FudmFzJzsKaW1wb3J0IHsgY3JlYXRlVXVpZCB9IGZyb20gJ0AvdXRpbHMvdXRpbCc7CmltcG9ydCBWZW51c1Njcm9sbCBmcm9tICdAL2NvbXBvbmVudHMvcHRzL1Njcm9sbCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2NyZWVuc2hvdCcsCiAgY29tcG9uZW50czogewogICAgVmVudXNTY3JvbGw6IFZlbnVzU2Nyb2xsCiAgfSwKICBwcm9wczogewogICAgYWZ0ZXJBY3Rpb246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWxlTGlzdDogW10sCiAgICAgIGltZ0RhdGE6ICcnLAogICAgICBwcmV2aWV3VmlzaWJsZTogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgd2F0Y2g6IHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGNhcHR1cmU6IGZ1bmN0aW9uIGNhcHR1cmUoZWxlbWVudCkgewogICAgICBpZiAoIWVsZW1lbnQpIHsKICAgICAgICBjb25zb2xlLmxvZyhuZXcgRXJyb3IoJ+ebruaghyBFbGVtZW50IOS4uuepuiEnKSk7CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgdGhpcy5zZXRJbWFnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50KSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZXRJbWFnZShlbGVtZW50KTsKICAgICAgfQogICAgfSwKICAgIC8vIOaIquWPluWbvueJhwogICAgc2V0SW1hZ2U6IGZ1bmN0aW9uIHNldEltYWdlKG5vZGVCb3gpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgY2FudmFzMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOyAvLyBsZXQgX2NhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGlsZCcpOwoKICAgICAgdmFyIF9jYW52YXMgPSBub2RlQm94OwogICAgICB2YXIgdyA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKF9jYW52YXMpLndpZHRoKTsKICAgICAgdmFyIGggPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShfY2FudmFzKS5oZWlnaHQpOyAvLyDlsIZjYW52YXPnlLvluIPmlL7lpKfoi6XlubLlgI3vvIznhLblkI7nm5vmlL7lnKjovoPlsI/nmoTlrrnlmajlhoXvvIzlsLHmmL7lvpfkuI3mqKHns4rkuoYKCiAgICAgIGNhbnZhczIud2lkdGggPSB3OwogICAgICBjYW52YXMyLmhlaWdodCA9IGg7CiAgICAgIGNhbnZhczIuc3R5bGUud2lkdGggPSB3ICsgJ3B4JzsKICAgICAgY2FudmFzMi5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4JzsgLy8g5Y+v5Lul5oyJ54Wn6Ieq5bex55qE6ZyA5rGC77yM5a+5Y29udGV4dOeahOWPguaVsOS/ruaUuSx0cmFuc2xhdGXmjIfnmoTmmK/lgY/np7vph48KCiAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzMi5nZXRDb250ZXh0KCcyZCcpOyAvLyBjb250ZXh0LnNjYWxlKDIsIDIpCgogICAgICBodG1sMmNhbnZhcyhub2RlQm94LCB7CiAgICAgICAgY2FudmFzOiBjYW52YXMyLAogICAgICAgIHNjYWxlOiAxCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNhbnZhcykgewogICAgICAgIHZhciBpbWcgPSB0aGF0LmdldEJsb2IoY2FudmFzKTsKCiAgICAgICAgaWYgKHRoYXQuYWZ0ZXJBY3Rpb24pIHsKICAgICAgICAgIHZhciBvTXlGb3JtID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICB2YXIgZmlsZU5hbWUgPSAnbW9iaWxlJyArICcuanBnJzsKICAgICAgICAgIG9NeUZvcm0uYXBwZW5kKCdmaWxlJywgaW1nLmJsb2IsIGZpbGVOYW1lKTsgLy8gb015Rm9ybS5hcHBlbmQoImZpbGVOYW1lIiwgZmlsZU5hbWUpOwoKICAgICAgICAgIG9NeUZvcm0uYXBwZW5kKCdmaWxlVHlwZScsICdpbWFnZScpOyAvLyBvTXlGb3JtLmFwcGVuZCgndXNlcl9pZCcsIHRoYXQpCgogICAgICAgICAgdGhhdC4kZW1pdCgndXBsb2FkUmVzdWx0JywgJ3N1Y2Nlc3MnLCB7CiAgICAgICAgICAgIGZvcm1EYXRhOiBvTXlGb3JtLAogICAgICAgICAgICBpbWc6IGltZwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyBvblVwbG9hZFByb2dyZXNzIChlLCBpZCkgewogICAgLy8gICAvLyDlsZ7mgKdsZW5ndGhDb21wdXRhYmxl5Li76KaB6KGo5piO5oC75YWx6ZyA6KaB5a6M5oiQ55qE5bel5L2c6YeP5ZKM5bey57uP5a6M5oiQ55qE5bel5L2c5piv5ZCm5Y+v5Lul6KKr5rWL6YePCiAgICAvLyAgIC8vIOWmguaenGxlbmd0aENvbXB1dGFibGXkuLpmYWxzZe+8jOWwseiOt+WPluS4jeWIsGUudG90YWzlkoxlLmxvYWRlZAogICAgLy8gICAvLyBpZiAoZS5sZW5ndGhDb21wdXRhYmxlKSB7CiAgICAvLyAgIC8vICAgICBjb25zdCByYXRlID0gdGhpcy51cGxvYWRSYXRlID0gZS5sb2FkZWQgLyBlLnRvdGFsOyAgLy/lt7LkuIrkvKDnmoTmr5TkvosKICAgIC8vICAgLy8gICAgIGlmIChyYXRlIDwgMSkgewogICAgLy8gICAvLyAgICAgICAgIC8vIOi/memHjOeahOi/m+W6puWPquiDveihqOaYjuaWh+S7tuW3sue7j+S4iuS8oOWIsOWQjuWPsO+8jOS9huaYr+WQjuWPsOacieayoeacieWkhOeQhuWujOi/mOS4jeefpemBkwogICAgLy8gICAvLyAgICAgICAgIC8vIOWboOatpOS4jeiDveebtOaOpeaYvuekuuS4ujEwMCXvvIzkuI3nhLbnlKjmiLfkvJror6/ku6XkuLrlt7Lnu4/kuIrkvKDlrozmr5XvvIzlhbPmjonmtY/op4jlmajnmoTor53lsLHlj6/og73lr7zoh7TkuIrkvKDlpLHotKUKICAgIC8vICAgLy8gICAgICAgICAvLyDnrYnlk43lupTlm57mnaXml7bvvIzlho3lsIbov5vluqborr7kuLoxMDAlCiAgICAvLyAgIC8vICAgICAgICAgdGhpcy51cGxvYWRSYXRlID0gcmF0ZTsKICAgIC8vICAgLy8gICAgICAgICB0aGlzLnVwbG9hZFN0eWxlLndpZHRoID0gKHJhdGUgKjEwMCkudG9GaXhlZCgyKSsgJyUnOwogICAgLy8gICAvLyAgICAgfQogICAgLy8gICAvLyB9CiAgICAvLyAgIGNvbnNvbGUubG9nKGUubG9hZGVkIC8gZS50b3RhbCkKICAgIC8vICAgdGhpcy4kZW1pdCgndXBsb2FkUHJvZ3Jlc3MnLCBlKQogICAgLy8gfSwKICAgIGltZ0NsaWNrOiBmdW5jdGlvbiBpbWdDbGljayhpbWdVcmwsIGUpIHsKICAgICAgdGhpcy5pbWdEYXRhID0gaW1nVXJsOwogICAgICB0aGlzLnByZXZpZXdWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBnZXRCbG9iOiBmdW5jdGlvbiBnZXRCbG9iKGNhbnZhcykgewogICAgICAvLyDojrflj5ZibG9i5a+56LGhCiAgICAgIHZhciBkYXRhID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIDEpOwogICAgICB2YXIgdXVpZCA9IGNyZWF0ZVV1aWQoKTsgLy8g5oqK5Zu+54mH5re75Yqg5Yiw5Zu+54mH6Zif5YiX5LitCgogICAgICB0aGlzLmZpbGVMaXN0LnB1c2goewogICAgICAgIGlkOiB1dWlkLAogICAgICAgIHVybDogZGF0YQogICAgICB9KTsKICAgICAgZGF0YSA9IGRhdGEuc3BsaXQoJywnKVsxXTsKICAgICAgZGF0YSA9IHdpbmRvdy5hdG9iKGRhdGEpOwogICAgICB2YXIgaWEgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBpYVtpXSA9IGRhdGEuY2hhckNvZGVBdChpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBibG9iOiBuZXcgQmxvYihbaWFdLCB7CiAgICAgICAgICB0eXBlOiAnaW1hZ2UvanBlZycKICAgICAgICB9KSwKICAgICAgICBpZDogdXVpZAogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"screenshot-container\"\n       v-if=\"false\">\n    <venus-scroll>\n      <img id=\"downImg\"\n           :src=\"file.url\"\n           v-for=\"file in fileList\"\n           :key=\"file.id\"\n           @click=\"(e)=> imgClick(file.url, e)\" />\n    </venus-scroll>\n    <a-modal :visible=\"previewVisible\"\n             :footer=\"null\"\n             @cancel=\"previewVisible = false\"\n             width=\"60%\"\n             :bodyStyle=\"{ padding: 0, borderRadius: '3px', border: '1px solid rgba(66, 66, 66, 0.7)' }\">\n      <img alt=\"加载失败\"\n           style=\"width: 100%\"\n           :src=\"imgData\" />\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport html2canvas from 'html2canvas'\nimport { createUuid } from '@/utils/util'\nimport VenusScroll from '@/components/pts/Scroll'\n\nexport default {\n  name: 'Screenshot',\n  components: {\n    VenusScroll\n  },\n  props: {\n    afterAction: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      fileList: [],\n      imgData: '',\n      previewVisible: false\n    }\n  },\n  computed: {},\n  watch: {},\n  created () { },\n  mounted () { },\n  beforeDestroy () { },\n  methods: {\n    capture (element) {\n      if (!element) {\n        console.log(new Error('目标 Element 为空!'))\n      } else if (typeof element === 'string') {\n        this.setImage(document.getElementById(element))\n      } else {\n        this.setImage(element)\n      }\n    },\n    // 截取图片\n    setImage (nodeBox) {\n      const that = this\n      const canvas2 = document.createElement('canvas')\n      // let _canvas = document.getElementById('child');\n      const _canvas = nodeBox\n      const w = parseInt(window.getComputedStyle(_canvas).width)\n      const h = parseInt(window.getComputedStyle(_canvas).height)\n      // 将canvas画布放大若干倍，然后盛放在较小的容器内，就显得不模糊了\n      canvas2.width = w\n      canvas2.height = h\n      canvas2.style.width = w + 'px'\n      canvas2.style.height = h + 'px'\n      // 可以按照自己的需求，对context的参数修改,translate指的是偏移量\n      const context = canvas2.getContext('2d')\n      // context.scale(2, 2)\n      html2canvas(nodeBox, {\n        canvas: canvas2,\n        scale: 1\n      }).then(function (canvas) {\n        const img = that.getBlob(canvas)\n        if (that.afterAction) {\n          const oMyForm = new FormData()\n          const fileName = 'mobile' + '.jpg'\n          oMyForm.append('file', img.blob, fileName)\n          // oMyForm.append(\"fileName\", fileName);\n          oMyForm.append('fileType', 'image')\n          // oMyForm.append('user_id', that)\n          that.$emit('uploadResult', 'success', { formData: oMyForm, img: img })\n        }\n      })\n    },\n    // onUploadProgress (e, id) {\n    //   // 属性lengthComputable主要表明总共需要完成的工作量和已经完成的工作是否可以被测量\n    //   // 如果lengthComputable为false，就获取不到e.total和e.loaded\n    //   // if (e.lengthComputable) {\n    //   //     const rate = this.uploadRate = e.loaded / e.total;  //已上传的比例\n    //   //     if (rate < 1) {\n    //   //         // 这里的进度只能表明文件已经上传到后台，但是后台有没有处理完还不知道\n    //   //         // 因此不能直接显示为100%，不然用户会误以为已经上传完毕，关掉浏览器的话就可能导致上传失败\n    //   //         // 等响应回来时，再将进度设为100%\n    //   //         this.uploadRate = rate;\n    //   //         this.uploadStyle.width = (rate *100).toFixed(2)+ '%';\n    //   //     }\n    //   // }\n    //   console.log(e.loaded / e.total)\n    //   this.$emit('uploadProgress', e)\n    // },\n    imgClick (imgUrl, e) {\n      this.imgData = imgUrl\n      this.previewVisible = true\n    },\n    getBlob (canvas) {\n      // 获取blob对象\n      let data = canvas.toDataURL('image/jpeg', 1)\n      const uuid = createUuid()\n      // 把图片添加到图片队列中\n      this.fileList.push({ id: uuid, url: data })\n      data = data.split(',')[1]\n      data = window.atob(data)\n      const ia = new Uint8Array(data.length)\n      for (let i = 0; i < data.length; i++) {\n        ia[i] = data.charCodeAt(i)\n      }\n      return {\n        blob: new Blob([ia], { type: 'image/jpeg' }),\n        id: uuid\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.screenshot-container {\n  padding: 6px;\n  transition: all 0.3s;\n  img {\n    width: 100px;\n    margin: 6px 6px;\n    border-radius: 2px;\n    border: 1px solid #495ba9;\n    transition: all 0.3s;\n    cursor: pointer;\n    &:hover,\n    &:focus {\n      border-color: @primary-color;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/pts/Screenshot"}]}