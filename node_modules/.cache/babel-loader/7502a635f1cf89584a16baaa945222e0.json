{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/views/activiti/ProcDefNode.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/views/activiti/ProcDefNode.vue","mtime":1605568762449},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgVHJlZSwgSWNvbiB9IGZyb20gJ2FudC1kZXNpZ24tdnVlJzsKaW1wb3J0IHsgU1RhYmxlIH0gZnJvbSAnQC9jb21wb25lbnRzJzsKaW1wb3J0IHsgZ2V0Tm9kZUxpc3QsIGdldE5vZGVJbmZvLCB1cGRhdGVOb2RlSW5mbyB9IGZyb20gJ0AvYXBpL2FjdGl2aXRpJzsKaW1wb3J0IHsgZ2V0RGVwdExpc3QsIGdldFVzZXJMaXN0LCBnZXRSb2xlQWxsIH0gZnJvbSAnQC9hcGkvc3lzdGVtJzsKaW1wb3J0IHBpY2sgZnJvbSAnbG9kYXNoLnBpY2snOwp2YXIgTXlJY29uID0gSWNvbi5jcmVhdGVGcm9tSWNvbmZvbnRDTih7CiAgc2NyaXB0VXJsOiAnLy9hdC5hbGljZG4uY29tL3QvZm9udF8xNTc0OTA2X212aGVobWthZXIuanMnIC8vIOWcqCBpY29uZm9udC5jbiDkuIrnlJ/miJAKCn0pOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RhYmxlTGlzdCcsCiAgY29tcG9uZW50czogewogICAgVHJlZTogVHJlZSwKICAgIFNUYWJsZTogU1RhYmxlLAogICAgTXlJY29uOiBNeUljb24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgbGFiZWxDb2w6IHsKICAgICAgICBsZzogewogICAgICAgICAgc3BhbjogMwogICAgICAgIH0sCiAgICAgICAgc206IHsKICAgICAgICAgIHNwYW46IDMKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHdyYXBwZXJDb2w6IHsKICAgICAgICBsZzogewogICAgICAgICAgc3BhbjogMjAKICAgICAgICB9LAogICAgICAgIHNtOiB7CiAgICAgICAgICBzcGFuOiAxMgogICAgICAgIH0KICAgICAgfSwKICAgICAgbWRsOiB7fSwKICAgICAgY29uZmlybUxvYWRpbmc6IGZhbHNlLAogICAgICBmb3JtOiB0aGlzLiRmb3JtLmNyZWF0ZUZvcm0odGhpcyksCiAgICAgIGRlcHRDaGVja2VkOiBmYWxzZSwKICAgICAgZGVwdHM6IFtdLAogICAgICB1c2VyQ2hlY2tlZDogZmFsc2UsCiAgICAgIHVzZXJzOiBbXSwKICAgICAgcm9sZUNoZWNrZWQ6IGZhbHNlLAogICAgICByb2xlczogW10sCiAgICAgIGRlcHRIZWFkZXI6IGZhbHNlLAogICAgICBub2RlczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgcHJvY0RlZklkID0gdGhpcy4kcm91dGUucXVlcnkucHJvY0RlZklkOwogICAgZ2V0Tm9kZUxpc3QocHJvY0RlZklkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMubm9kZXMgPSByZXMucm93cy5tYXAoZnVuY3Rpb24gKG4pIHsKICAgICAgICB2YXIgaWNvbiA9ICcnOwoKICAgICAgICBzd2l0Y2ggKG4udHlwZSkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpY29uID0gJ2ljb24ta2Fpc2hpMSc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgaWNvbiA9ICdpY29uLWppZXNodSc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGljb24gPSAnaWNvbi1zaGVuJzsKICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBuYW1lOiBuLm5hbWUsCiAgICAgICAgICBub2RlSWQ6IG4ubm9kZUlkLAogICAgICAgICAgaWNvbjogaWNvbiwKICAgICAgICAgIHR5cGU6IG4udHlwZQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7CiAgICBnZXRSb2xlQWxsKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLnJvbGVzID0gcmVzLnJvd3M7CiAgICB9KTsKICAgIGdldERlcHRMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHZhciBkYXRhID0gcmVzLnJvd3M7CgogICAgICBfdGhpcy5idWlsZHRyZWUoZGF0YSwgX3RoaXMuZGVwdHMsIDApOwogICAgfSk7CiAgICBnZXRVc2VyTGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy51c2VycyA9IHJlcy5yb3dzOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTZWxlY3Q6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdChlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIG5vZGVJZCA9IGUua2V5OwogICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIG5vZGVJZCA9PT0gaXRlbS5ub2RlSWQ7CiAgICAgIH0pWzBdOwoKICAgICAgaWYgKG5vZGUudHlwZSA9PT0gMSkgewogICAgICAgIGdldE5vZGVJbmZvKG5vZGVJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgX3RoaXMyLm1kbCA9IE9iamVjdC5hc3NpZ24oZGF0YSwgbm9kZSk7CiAgICAgICAgICBfdGhpczIucm9sZUNoZWNrZWQgPSBkYXRhLnJvbGVJZHMubGVuZ3RoID4gMDsKICAgICAgICAgIF90aGlzMi5kZXB0Q2hlY2tlZCA9IGRhdGEuZGVwdElkcy5sZW5ndGggPiAwOwogICAgICAgICAgX3RoaXMyLnVzZXJDaGVja2VkID0gZGF0YS51c2VySWRzLmxlbmd0aCA+IDA7CiAgICAgICAgICBfdGhpczIuZGVwdEhlYWRlciA9IGRhdGEuZGVwdEhlYWRlcjsKCiAgICAgICAgICBfdGhpczIuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMyLmZvcm0uc2V0RmllbGRzVmFsdWUocGljayhfdGhpczIubWRsLCAnbm9kZUlkJywgJ3VzZXJJZHMnLCAnZGVwdElkcycsICdyb2xlSWRzJywgJ2RlcHRIZWFkZXInKSk7IC8vIHRoaXMuZm9ybS5zZXRGaWVsZHNWYWx1ZSh7IC4uLnJlY29yZCB9KQoKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WPquiDvee8lui+keS7u+WKoeiKgueCuScpOwogICAgICAgIHRoaXMubWRsID0ge307CiAgICAgICAgdGhpcy5yb2xlQ2hlY2tlZCA9IHRoaXMuZGVwdENoZWNrZWQgPSB0aGlzLnVzZXJDaGVja2VkID0gdGhpcy5kZXB0SGVhZGVyID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBvbkNoYW5nZVJvbGU6IGZ1bmN0aW9uIG9uQ2hhbmdlUm9sZShlKSB7CiAgICAgIHZhciB2YWx1ZSA9IGUudGFyZ2V0LmNoZWNrZWQ7CiAgICAgIHRoaXMucm9sZUNoZWNrZWQgPSB2YWx1ZTsKCiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICB0aGlzLmZvcm0uc2V0RmllbGRzVmFsdWUoewogICAgICAgICAgcm9sZUlkczogW10KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uQ2hhbmdlRGVwdDogZnVuY3Rpb24gb25DaGFuZ2VEZXB0KGUpIHsKICAgICAgdmFyIHZhbHVlID0gZS50YXJnZXQuY2hlY2tlZDsKICAgICAgdGhpcy5kZXB0Q2hlY2tlZCA9IHZhbHVlOwoKICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgIHRoaXMuZm9ybS5zZXRGaWVsZHNWYWx1ZSh7CiAgICAgICAgICBkZXB0SWRzOiBbXQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYnVpbGR0cmVlOiBmdW5jdGlvbiBidWlsZHRyZWUobGlzdCwgYXJyLCBwYXJlbnRJZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLnBhcmVudElkID09PSBwYXJlbnRJZCkgewogICAgICAgICAgdmFyIGNoaWxkID0gewogICAgICAgICAgICBrZXk6IGl0ZW0uZGVwdElkLAogICAgICAgICAgICB2YWx1ZTogaXRlbS5kZXB0SWQsCiAgICAgICAgICAgIC8vIHZhbHVl5piv57uZbW9kYWznmoRzZWxlY3TnlKjnmoTvvIwy6ICF5bGe5oCn5LiN5LiA5qC3CiAgICAgICAgICAgIHRpdGxlOiBpdGVtLmRlcHROYW1lLAogICAgICAgICAgICBzY29wZWRTbG90czogewogICAgICAgICAgICAgIHRpdGxlOiAndGl0bGUnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpczMuYnVpbGR0cmVlKGxpc3QsIGNoaWxkLmNoaWxkcmVuLCBpdGVtLmRlcHRJZCk7CgogICAgICAgICAgaWYgKGNoaWxkLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICBkZWxldGUgY2hpbGQuY2hpbGRyZW47CiAgICAgICAgICB9CgogICAgICAgICAgYXJyLnB1c2goY2hpbGQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb25DaGFuZ2VVc2VyOiBmdW5jdGlvbiBvbkNoYW5nZVVzZXIoZSkgewogICAgICB2YXIgdmFsdWUgPSBlLnRhcmdldC5jaGVja2VkOwogICAgICB0aGlzLnVzZXJDaGVja2VkID0gdmFsdWU7CgogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgdGhpcy5mb3JtLnNldEZpZWxkc1ZhbHVlKHsKICAgICAgICAgIHVzZXJJZHM6IFtdCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkNoYW5nZURlcHRIZWFkZXI6IGZ1bmN0aW9uIG9uQ2hhbmdlRGVwdEhlYWRlcihlKSB7CiAgICAgIHRoaXMuZGVwdEhlYWRlciA9IGUudGFyZ2V0LmNoZWNrZWQ7CiAgICAgIHRoaXMuZm9ybS5zZXRGaWVsZHNWYWx1ZSh7CiAgICAgICAgZGVwdEhlYWRlcjogdGhpcy5kZXB0SGVhZGVyCiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNoYW5nZURlcHQ6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZURlcHQodmFsdWUsIGxhYmVsLCBleHRyYSkgewogICAgICBpZiAoZXh0cmEuc2VsZWN0ZWQgJiYgZXh0cmEudHJpZ2dlck5vZGUuJGNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuI3og73pgInmi6nniLboioLngrkgJyArIGV4dHJhLnRyaWdnZXJOb2RlLnRpdGxlKTsKICAgICAgICB2YWx1ZS5zcGxpY2UodmFsdWUuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbSA9PT0gZXh0cmEudHJpZ2dlclZhbHVlOwogICAgICAgIH0pLCAxKTsKICAgICAgfQogICAgfSwKICAgIHRvTGlzdDogZnVuY3Rpb24gdG9MaXN0KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ3Byb2NEZWZMaXN0JwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLmZvcm0udmFsaWRhdGVGaWVsZHMoZnVuY3Rpb24gKGVyciwgdmFsdWVzKSB7CiAgICAgICAgaWYgKCFlcnIpIHsKICAgICAgICAgIF90aGlzNC5jb25maXJtTG9hZGluZyA9IHRydWU7CiAgICAgICAgICB1cGRhdGVOb2RlSW5mbyh2YWx1ZXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICBfdGhpczQuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+d5a2Y5oiQ5YqfJyk7IC8vIHRoaXMudG9MaXN0KCkKCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXM0LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5lcnJvcign57O757uf6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+VJyk7CiAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXM0LmNvbmZpcm1Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIC8qCiAgICAgICdzZWxlY3RlZFJvd3MnOiBmdW5jdGlvbiAoc2VsZWN0ZWRSb3dzKSB7CiAgICAgICAgdGhpcy5uZWVkVG90YWxMaXN0ID0gdGhpcy5uZWVkVG90YWxMaXN0Lm1hcChpdGVtID0+IHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC4uLml0ZW0sCiAgICAgICAgICAgIHRvdGFsOiBzZWxlY3RlZFJvd3MucmVkdWNlKCAoc3VtLCB2YWwpID0+IHsKICAgICAgICAgICAgICByZXR1cm4gc3VtICsgdmFsW2l0ZW0uZGF0YUluZGV4XQogICAgICAgICAgICB9LCAwKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0KICAgICAgKi8KICB9Cn07"},{"version":3,"sources":["ProcDefNode.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <a-card :bordered=\"false\">\n    <a-row :gutter=\"8\">\n      <a-col :span=\"5\">\n        <!-- <a-tree\n          v-if=\"nodes.length>0\"\n          :treeData=\"nodes\"\n          showIcon\n          @select=\"handleSelect\">\n          <my-icon slot=\"0\" type=\"icon-kaishi1\" />\n          <my-icon slot=\"1\" type=\"icon-shen\" />\n          <my-icon slot=\"2\" type=\"icon-jieshu\" />\n        </a-tree> -->\n        <a-menu style=\"width: 256px\" mode=\"vertical\" @select=\"handleSelect\">\n          <a-menu-item v-for=\"node in nodes\" :key=\"node.nodeId\" :title=\"node.name\" >\n            <my-icon :type=\"node.icon\" />\n            {{ node.name }}\n          </a-menu-item>\n        </a-menu>\n      </a-col>\n      <a-col :span=\"12\">\n        <div class=\"table-page-search-wrapper\">\n          <a-form @submit=\"handleSubmit\" :form=\"form\">\n            <a-form-item\n              :wrapperCol=\"{ span: 22 }\">\n              <a-alert message=\"温馨提示：若流程运行至未分配审批人员的审批节点时，流程将自动中断取消\" type=\"warning\" showIcon />\n            </a-form-item>\n            <a-form-item v-show=\"false\">\n              <a-input v-decorator=\"['nodeId']\"/>\n            </a-form-item>\n            <a-form-item v-show=\"false\">\n              <a-input v-decorator=\"['deptHeader']\"/>\n            </a-form-item>\n            <a-form-item\n              label=\"节点名称\"\n              :labelCol=\"labelCol\"\n              :wrapperCol=\"wrapperCol\">\n              <span>{{ mdl.name }}</span>\n            </a-form-item>\n            <a-form-item\n              label=\"审批人\"\n              :labelCol=\"labelCol\"\n              :wrapperCol=\"wrapperCol\">\n              <a-checkbox @change=\"onChangeRole\" :checked=\"roleChecked\">角色</a-checkbox>\n              <a-checkbox @change=\"onChangeDept\" :checked=\"deptChecked\">部门</a-checkbox>\n              <a-checkbox @change=\"onChangeUser\" :checked=\"userChecked\">用户</a-checkbox>\n              <a-checkbox @change=\"onChangeDeptHeader\" :checked=\"deptHeader\" >所属部门负责人</a-checkbox>\n            </a-form-item>\n            <a-form-item\n              label=\"选择角色\"\n              :labelCol=\"labelCol\"\n              :wrapperCol=\"wrapperCol\"\n              v-show=\"roleChecked\"\n            >\n              <!-- <a-select\n                v-decorator=\"['roleIds', {rules: [{ required: roleChecked, message: '至少选择一个角色' }]}]\"\n                mode=\"multiple\"\n                allowClear\n                placeholder=\"角色\">\n                <a-select-option v-for=\"(item, index) in roles\" :key=\"index\" :value=\"item.roleId\">{{ item.roleName }}</a-select-option>\n              </a-select> -->\n\n              <a-select\n                v-decorator=\"['roleIds', {rules: [{ required: roleChecked, message: '至少选择一个用户' }]}]\"\n                mode=\"multiple\"\n                allowClear\n                placeholder=\"用户\">\n                <a-select-option v-for=\"(item, index) in roles\" :key=\"index\" :value=\"item.roleId\">{{ item.roleName }}</a-select-option>\n              </a-select>\n            </a-form-item>\n            <a-form-item\n              label=\"选择部门\"\n              :labelCol=\"labelCol\"\n              :wrapperCol=\"wrapperCol\"\n              v-show=\"deptChecked\"\n            >\n              <a-tree-select\n                v-decorator=\"['deptIds', {rules: [{ required: deptChecked, message: '至少选择一个部门' }]}]\"\n                :dropdownStyle=\"{ maxHeight: '400px', overflow: 'auto' }\"\n                :treeData=\"depts\"\n                treeDefaultExpandAll\n                @change=\"handleChangeDept\"\n                placeholder=\"部门\"\n                multiple\n                allowClear\n              >\n              </a-tree-select>\n            </a-form-item>\n            <a-form-item\n              label=\"选择用户\"\n              :labelCol=\"labelCol\"\n              :wrapperCol=\"wrapperCol\"\n              v-show=\"userChecked\"\n            >\n              <a-select\n                v-decorator=\"['userIds', {rules: [{ required: userChecked, message: '至少选择一个用户' }]}]\"\n                mode=\"multiple\"\n                allowClear\n                placeholder=\"用户\">\n                <a-select-option v-for=\"(item, index) in users\" :key=\"index\" :value=\"item.userId\">{{ item.userName+' - '+item.loginName }}</a-select-option>\n              </a-select>\n            </a-form-item>\n            <a-form-item\n              :wrapperCol=\"{ span: 24 }\"\n              style=\"text-align: center\"\n            >\n              <a-button htmlType=\"submit\" type=\"primary\" :loading=\"confirmLoading\" :disabled=\"mdl.type!==1\">提交</a-button>\n              <a-button style=\"margin-left: 8px\" @click=\"toList\">返回</a-button>\n            </a-form-item>\n          </a-form>\n        </div>\n      </a-col>\n    </a-row>\n  </a-card>\n</template>\n\n<script>\nimport { Tree, Icon } from 'ant-design-vue'\nimport { STable } from '@/components'\nimport { getNodeList, getNodeInfo, updateNodeInfo } from '@/api/activiti'\nimport { getDeptList, getUserList, getRoleAll } from '@/api/system'\nimport pick from 'lodash.pick'\nconst MyIcon = Icon.createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_1574906_mvhehmkaer.js' // 在 iconfont.cn 上生成\n})\nexport default {\n  name: 'TableList',\n  components: {\n    Tree,\n    STable,\n    MyIcon\n  },\n  data () {\n    return {\n      visible: false,\n      labelCol: {\n        lg: { span: 3 }, sm: { span: 3 }\n      },\n      wrapperCol: {\n        lg: { span: 20 }, sm: { span: 12 }\n      },\n      mdl: {},\n      confirmLoading: false,\n      form: this.$form.createForm(this),\n      deptChecked: false,\n      depts: [],\n      userChecked: false,\n      users: [],\n      roleChecked: false,\n      roles: [],\n      deptHeader: false,\n      nodes: []\n    }\n  },\n  created () {\n    const procDefId = this.$route.query.procDefId\n    getNodeList(procDefId).then(res => {\n      this.nodes = res.rows.map(n => {\n        let icon = ''\n        switch (n.type) {\n          case 0:\n            icon = 'icon-kaishi1'\n            break\n          case 2:\n            icon = 'icon-jieshu'\n            break\n          default:\n            icon = 'icon-shen'\n        }\n        return { name: n.name, nodeId: n.nodeId, icon: icon, type: n.type }\n      })\n    })\n    getRoleAll().then(res => {\n      this.roles = res.rows\n    })\n    getDeptList().then(res => {\n      const data = res.rows\n      this.buildtree(data, this.depts, 0)\n    })\n    getUserList().then(res => {\n      this.users = res.rows\n    })\n  },\n  methods: {\n    handleSelect (e) {\n      const nodeId = e.key\n      const node = this.nodes.filter(item => nodeId === item.nodeId)[0]\n      if (node.type === 1) {\n        getNodeInfo(nodeId).then(res => {\n          const data = res.data\n          this.mdl = Object.assign(data, node)\n          this.roleChecked = data.roleIds.length > 0\n          this.deptChecked = data.deptIds.length > 0\n          this.userChecked = data.userIds.length > 0\n          this.deptHeader = data.deptHeader\n          this.$nextTick(() => {\n            this.form.setFieldsValue(pick(this.mdl, 'nodeId', 'userIds', 'deptIds', 'roleIds', 'deptHeader'))\n            // this.form.setFieldsValue({ ...record })\n          })\n        })\n      } else {\n        this.$message.error('只能编辑任务节点')\n        this.mdl = {}\n        this.roleChecked = this.deptChecked = this.userChecked = this.deptHeader = false\n      }\n    },\n    onChangeRole (e) {\n      const value = e.target.checked\n      this.roleChecked = value\n      if (!value) { this.form.setFieldsValue({ roleIds: [] }) }\n    },\n    onChangeDept (e) {\n      const value = e.target.checked\n      this.deptChecked = value\n      if (!value) { this.form.setFieldsValue({ deptIds: [] }) }\n    },\n    buildtree (list, arr, parentId) {\n      list.forEach(item => {\n        if (item.parentId === parentId) {\n          var child = {\n            key: item.deptId,\n            value: item.deptId, // value是给modal的select用的，2者属性不一样\n            title: item.deptName,\n            scopedSlots: { title: 'title' },\n            children: []\n          }\n          this.buildtree(list, child.children, item.deptId)\n          if (child.children.length === 0) { delete child.children }\n          arr.push(child)\n        }\n      })\n    },\n    onChangeUser (e) {\n      const value = e.target.checked\n      this.userChecked = value\n      if (!value) { this.form.setFieldsValue({ userIds: [] }) }\n    },\n    onChangeDeptHeader (e) {\n      this.deptHeader = e.target.checked\n      this.form.setFieldsValue({ deptHeader: this.deptHeader })\n    },\n    handleChangeDept (value, label, extra) {\n      if (extra.selected && extra.triggerNode.$children.length > 0) {\n        this.$message.error('不能选择父节点 ' + extra.triggerNode.title)\n        value.splice(value.findIndex(item => item === extra.triggerValue), 1)\n      }\n    },\n    toList () {\n      this.$router.push({ name: 'procDefList' })\n    },\n    handleSubmit (e) {\n      e.preventDefault()\n      this.form.validateFields((err, values) => {\n        if (!err) {\n          this.confirmLoading = true\n          updateNodeInfo(values).then(res => {\n            if (res.code === 0) {\n              this.$message.success('保存成功')\n              // this.toList()\n            } else {\n              this.$message.error(res.msg)\n            }\n          }).catch(() => {\n            this.$message.error('系统错误，请稍后再试')\n          }).finally(() => {\n            this.confirmLoading = false\n          })\n        }\n      })\n    }\n  },\n  watch: {\n    /*\n      'selectedRows': function (selectedRows) {\n        this.needTotalList = this.needTotalList.map(item => {\n          return {\n            ...item,\n            total: selectedRows.reduce( (sum, val) => {\n              return sum + val[item.dataIndex]\n            }, 0)\n          }\n        })\n      }\n      */\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n/deep/ .ant-menu-vertical {\n  .ant-menu-item{\n    display: flex;\n    .anticon{\n        font-size: 24px;\n        display: flex;\n        align-items: center;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/activiti"}]}