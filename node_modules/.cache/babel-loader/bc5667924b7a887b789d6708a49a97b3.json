{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/pts/WebShell/addSession.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/pts/WebShell/addSession.vue","mtime":1605568762426},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IHsgc2F2ZUNvbmZpZyB9IGZyb20gJ0AvYXBpL3N5c3RlbScKaW1wb3J0IHBpY2sgZnJvbSAnbG9kYXNoLnBpY2snOwppbXBvcnQgeyBjcmVhdGVVdWlkIH0gZnJvbSAnQC91dGlscy91dGlsJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBZGRTZXNzaW9uJywKICBwcm9wczogWydjb250YWluZXInXSwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIGxhYmVsQ29sOiB7CiAgICAgICAgeHM6IHsKICAgICAgICAgIHNwYW46IDI0CiAgICAgICAgfSwKICAgICAgICBzbTogewogICAgICAgICAgc3BhbjogNQogICAgICAgIH0KICAgICAgfSwKICAgICAgd3JhcHBlckNvbDogewogICAgICAgIHhzOiB7CiAgICAgICAgICBzcGFuOiAyNAogICAgICAgIH0sCiAgICAgICAgc206IHsKICAgICAgICAgIHNwYW46IDE2CiAgICAgICAgfQogICAgICB9LAogICAgICBjb25maXJtTG9hZGluZzogZmFsc2UsCiAgICAgIGZvcm06IHRoaXMuJGZvcm0uY3JlYXRlRm9ybSh0aGlzKQogICAgfTsKICB9LAogIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkge30sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB0aGlzLmZvcm0ucmVzZXRGaWVsZHMoKTsKICAgICAgdGhpcy5lZGl0KHsKICAgICAgICBpZDogY3JlYXRlVXVpZCgpCiAgICAgIH0pOwogICAgfSwKICAgIGVkaXQ6IGZ1bmN0aW9uIGVkaXQocmVjb3JkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLm1kbCA9IE9iamVjdC5hc3NpZ24ocmVjb3JkKTsKICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmZvcm0uc2V0RmllbGRzVmFsdWUocGljayhfdGhpcy5tZGwsICdpZCcsICduYW1lJywgJ2lwJywgJ3BvcnQnLCAndXNlcm5hbWUnLCAncGFzc3dvcmQnKSk7CiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrTXVsdGlwbGVJbnB1dDogZnVuY3Rpb24gY2hlY2tNdWx0aXBsZUlucHV0KHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUpIHsKICAgICAgICB2YXIgcGF0dCA9IC9eKFxkezEsMn18MVxkXGR8MlswLTRdXGR8MjVbMC01XSlcLihcZHsxLDJ9fDFcZFxkfDJbMC00XVxkfDI1WzAtNV0pXC4oXGR7MSwyfXwxXGRcZHwyWzAtNF1cZHwyNVswLTVdKVwuKFxkezEsMn18MVxkXGR8MlswLTRdXGR8MjVbMC01XSkkLzsKCiAgICAgICAgaWYgKHBhdHQudGVzdCh2YWx1ZSkpIHsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5q2j56Gu55qEaXDlnLDlnYAnKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpUlQ5Zyw5Z2AJykpOwogICAgfSwKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuZm9ybS52YWxpZGF0ZUZpZWxkcyhmdW5jdGlvbiAoZXJyLCB2YWx1ZXMpIHsKICAgICAgICBpZiAoIWVycikgewogICAgICAgICAgX3RoaXMyLiRlbWl0KCdvaycsIHZhbHVlcyk7CgogICAgICAgICAgX3RoaXMyLnZpc2libGUgPSBmYWxzZTsgLy8gdGhpcy5jb25maXJtTG9hZGluZyA9IHRydWUKICAgICAgICAgIC8vIHNhdmVDb25maWcodmFsdWVzKQogICAgICAgICAgLy8gICAudGhlbihyZXMgPT4gewogICAgICAgICAgLy8gICAgIGlmIChyZXMuY29kZSA9PT0gMCkgewogICAgICAgICAgLy8gICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv53lrZjmiJDlip8nKQogICAgICAgICAgLy8gICAgICAgdGhpcy4kZW1pdCgnb2snKQogICAgICAgICAgLy8gICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2UKICAgICAgICAgIC8vICAgICB9IGVsc2UgewogICAgICAgICAgLy8gICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpCiAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgLy8gICB9KQogICAgICAgICAgLy8gICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ezu+e7n+mUmeivr++8jOivt+eojeWQjuWGjeivlScpCiAgICAgICAgICAvLyAgIH0pCiAgICAgICAgICAvLyAgIC5maW5hbGx5KCgpID0+IHsKICAgICAgICAgIC8vICAgICB0aGlzLmNvbmZpcm1Mb2FkaW5nID0gZmFsc2UKICAgICAgICAgIC8vICAgfSkKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["addSession.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA,OAAA,IAAA,MAAA,aAAA;AACA,SAAA,UAAA,QAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA,CAAA,WAAA,CAFA;AAGA,EAAA,UAAA,EAAA,EAHA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AACA,QAAA,EAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SADA;AAEA,QAAA,EAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA;AAFA,OAFA;AAMA,MAAA,UAAA,EAAA;AACA,QAAA,EAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SADA;AAEA,QAAA,EAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA;AAFA,OANA;AAUA,MAAA,cAAA,EAAA,KAVA;AAWA,MAAA,IAAA,EAAA,KAAA,KAAA,CAAA,UAAA,CAAA,IAAA;AAXA,KAAA;AAaA,GAlBA;AAmBA,EAAA,YAnBA,0BAmBA,CAAA,CAnBA;AAoBA,EAAA,OApBA,qBAoBA,CAAA,CApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,GADA,iBACA;AACA,WAAA,IAAA,CAAA,WAAA;AACA,WAAA,IAAA,CAAA;AAAA,QAAA,EAAA,EAAA,UAAA;AAAA,OAAA;AACA,KAJA;AAKA,IAAA,IALA,gBAKA,MALA,EAKA;AAAA;;AACA,WAAA,GAAA,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,cAAA,CACA,IAAA,CACA,KAAA,CAAA,GADA,EAEA,IAFA,EAGA,MAHA,EAIA,IAJA,EAKA,MALA,EAMA,UANA,EAOA,UAPA,CADA;AAWA,OAZA;AAaA,KArBA;AAsBA,IAAA,kBAtBA,8BAsBA,IAtBA,EAsBA,KAtBA,EAsBA,QAtBA,EAsBA;AACA,UAAA,KAAA,EAAA;AACA,YAAA,IAAA,GAAA,0IAAA;;AACA,YAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,UAAA,QAAA;AACA,SAFA,MAEA;AACA,UAAA,QAAA,CAAA,IAAA,KAAA,CAAA,YAAA,CAAA,CAAA;AACA;AACA;;AACA,MAAA,QAAA,CAAA,IAAA,KAAA,CAAA,SAAA,CAAA,CAAA;AACA,KAhCA;AAiCA,IAAA,YAjCA,wBAiCA,CAjCA,EAiCA;AAAA;;AACA,MAAA,CAAA,CAAA,cAAA;AACA,WAAA,IAAA,CAAA,cAAA,CAAA,UAAA,GAAA,EAAA,MAAA,EAAA;AACA,YAAA,CAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,MAAA;;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,KAAA,CAFA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAtBA;AAuBA;AA1DA;AArBA,CAAA","sourcesContent":["<template>\n  <a-modal\n    title=\"新建会话\"\n    :width=\"400\"\n    v-model=\"visible\"\n    :confirmLoading=\"confirmLoading\"\n    :get-container=\"container\"\n    wrap-class-name=\"session-model\"\n    @ok=\"handleSubmit\"\n  >\n    <a-form :form=\"form\" hideRequiredMark>\n      <a-form-item style=\"display:none\">\n        <a-input v-decorator=\"['id']\" />\n      </a-form-item>\n      <a-form-item label=\"连接名称\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n        <a-input\n          placeholder=\"连接名称\"\n          v-decorator=\"['name',{rules: [{ required: true, message: '请输入连接名称' }]}]\"\n        />\n      </a-form-item>\n      <a-form-item label=\"IP地址\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n        <a-input\n          placeholder=\"IP地址\"\n          v-decorator=\"['ip',{rules: [{ validator: checkMultipleInput }]}]\"\n        />\n      </a-form-item>\n      <a-form-item label=\"端口\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n        <a-input\n          placeholder=\"端口\"\n          v-decorator=\"['port',{initialValue: '22', rules: [{ required: true, message: '请输入端口' }]}]\"\n        />\n      </a-form-item>\n      <a-form-item label=\"用户名\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n        <a-input\n          placeholder=\"用户名\"\n          v-decorator=\"['username',{rules: [{ required: true, message: '请输入用户名' }]}]\"\n        />\n      </a-form-item>\n      <a-form-item label=\"密码\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n        <a-input\n          placeholder=\"密码\"\n          type=\"password\"\n          v-decorator=\"['password',{rules: [{ required: true, message: '请输入密码' }]}]\"\n        />\n      </a-form-item>\n    </a-form>\n  </a-modal>\n</template>\n<script>\n// import { saveConfig } from '@/api/system'\nimport pick from 'lodash.pick'\nimport { createUuid } from '@/utils/util'\n\nexport default {\n  name: 'AddSession',\n  props: ['container'],\n  components: {},\n  data() {\n    return {\n      visible: false,\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 5 }\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 16 }\n      },\n      confirmLoading: false,\n      form: this.$form.createForm(this)\n    }\n  },\n  beforeCreate() {},\n  created() {},\n  methods: {\n    add() {\n      this.form.resetFields()\n      this.edit({ id: createUuid() })\n    },\n    edit (record) {\n      this.mdl = Object.assign(record)\n      this.visible = true\n      this.$nextTick(() => {\n        this.form.setFieldsValue(\n          pick(\n            this.mdl,\n            'id',\n            'name',\n            'ip',\n            'port',\n            'username',\n            'password'\n          )\n        )\n      })\n    },\n    checkMultipleInput(rule, value, callback) {\n      if (value) {\n        const patt = /^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/\n        if (patt.test(value)) {\n          callback()\n        } else {\n          callback(new Error('请输入正确的ip地址'))\n        }\n      }\n      callback(new Error('请输入IP地址'))\n    },\n    handleSubmit(e) {\n      e.preventDefault()\n      this.form.validateFields((err, values) => {\n        if (!err) {\n          this.$emit('ok', values)\n          this.visible = false\n          // this.confirmLoading = true\n          // saveConfig(values)\n          //   .then(res => {\n          //     if (res.code === 0) {\n          //       this.$message.success('保存成功')\n          //       this.$emit('ok')\n          //       this.visible = false\n          //     } else {\n          //       this.$message.success(res.msg)\n          //     }\n          //   })\n          //   .catch(() => {\n          //     this.$message.error('系统错误，请稍后再试')\n          //   })\n          //   .finally(() => {\n          //     this.confirmLoading = false\n          //   })\n        }\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/pts/WebShell"}]}