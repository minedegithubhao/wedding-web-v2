{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/pts/TopMenu/VenusTopMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/pts/TopMenu/VenusTopMenu.vue","mtime":1605568762425},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qKgogKiAg5L2c6ICF77ya5aea5q2j6LaFCiAqICDmj4/ov7DvvJpWMS4w54mI5pys77yM6K+35Yu/6ZqP5oSP5Lmx5pu05pS557uE5Lu2CiAqICDml6XmnJ/vvJoyMDIw5bm0NeaciDnml6UKICovCmltcG9ydCBOUHJvZ3Jlc3MgZnJvbSAnbnByb2dyZXNzJzsgLy8gcHJvZ3Jlc3MgYmFyCgppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCB7IENVUlJFTlRfVE9QX01FTlUgfSBmcm9tICdAL3N0b3JlL211dGF0aW9uLXR5cGVzJzsKaW1wb3J0IHsgZ2V0U2Vzc2lvblN0b3JhZ2UsIHNldFNlc3Npb25TdG9yYWdlIH0gZnJvbSAnQC91dGlscy91dGlsJzsKaW1wb3J0IHByZWZpeCBmcm9tICdAL2NvbmZpZy9wcmVmaXgnOyAvLyBpbXBvcnQgU3ViTWVudSBmcm9tICcuL1N1Yk1lbnUnCgppbXBvcnQgU01lbnUgZnJvbSAnLi9TdWJNZW51LmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdWZW51c1RvcE1lbnUnLAogIGNvbXBvbmVudHM6IHsKICAgIFNNZW51OiBTTWVudQogIH0sCiAgcHJvcHM6IHsKICAgIHRvcE1lbnVMaXN0OiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3NpZGVtZW51JwogICAgfSwKICAgIHRoZW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2RhcmsnCiAgICB9LAogICAgc3ViTWVudXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fQogICAgfSwKICAgIGFsbFRvcE1lbnVzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge30KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3BNZW51OiBbXSwKICAgICAgc2VsZWN0S2V5OiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjdXJyZW50VG9wTWVudTogZnVuY3Rpb24gY3VycmVudFRvcE1lbnUoKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50b3BNZW51TGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICgiIi5jb25jYXQodGhpcy50b3BNZW51TGlzdFtpXS5pZCkgPT09ICIiLmNvbmNhdChnZXRTZXNzaW9uU3RvcmFnZShDVVJSRU5UX1RPUF9NRU5VKSkpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnRvcE1lbnVMaXN0W2ldOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5rKh5pyJ5om+5Yiw5a+55bqU55qE5Li76I+c5Y2V6aG5Jyk7CiAgICAgIHJldHVybiB7fTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnRvcE1lbnUgPSB0aGlzLnRvcE1lbnVMaXN0LmZpbHRlcihmdW5jdGlvbiAobWVudSkgewogICAgICByZXR1cm4gbWVudS52aXNpYmxlID09PSAnMCc7CiAgICB9KTsKICAgIHZhciB0b3AgPSB0aGlzLmN1cnJlbnRUb3BNZW51OwoKICAgIGlmICh0b3AubGF5b3V0TW9kZSkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnVG9nZ2xlTGF5b3V0TW9kZScsIHRvcC5sYXlvdXRNb2RlKTsKICAgIH0KCiAgICB0aGlzLnNlbGVjdEtleSA9IGdldFNlc3Npb25TdG9yYWdlKENVUlJFTlRfVE9QX01FTlUpOyAvLyBpZiAodG9wLm11bHRpVGFiICE9PSB1bmRlZmluZWQgJiYgYCR7dG9wLm11bHRpVGFifWAgIT09IGAke3RoaXMubXVsdGlUYWJ9YCkgewogICAgLy8gICBpZiAoYCR7dG9wLm11bHRpVGFifWAgPT09ICd0cnVlJykgewogICAgLy8gICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdUb2dnbGVNdWx0aVRhYicsIHRydWUpCiAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ1RvZ2dsZU11bHRpVGFiJywgZmFsc2UpCiAgICAvLyAgIH0KICAgIC8vIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIGhhbmRsZVNlbGVjdFRvcE1lbnUodG9wTWVudUlkKSB7CiAgICAvLyAgIGxldCBtZW51ID0ge30KICAgIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRvcE1lbnUubGVuZ3RoOyBpKyspIHsKICAgIC8vICAgICBpZiAoYCR7dGhpcy50b3BNZW51W2ldLmlkfWAgPT09IGAke3RvcE1lbnVJZH1gKSB7CiAgICAvLyAgICAgICBtZW51ID0gdGhpcy50b3BNZW51W2ldCiAgICAvLyAgICAgICBicmVhawogICAgLy8gICAgIH0KICAgIC8vICAgfQogICAgLy8gICB0aGlzLiRlbWl0KCdjbGljaycsIG1lbnUpCiAgICAvLyB9CiAgICBpbWdTcmM6IGZ1bmN0aW9uIGltZ1NyYyhmaWxlUGF0aCkgewogICAgICByZXR1cm4gcHJlZml4Lk9QRU5fVVJMX1BSRUZJWCArIGZpbGVQYXRoOwogICAgfSwKICAgIGdldFN1Yk1lbnU6IGZ1bmN0aW9uIGdldFN1Yk1lbnUodG9wTWVudSkgewogICAgICBpZiAodGhpcy5tb2RlICE9PSAnc2lkZW1lbnUnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3ViTWVudXNbdG9wTWVudS5pZF07CiAgICAgIH0KCiAgICAgIHJldHVybiBbXTsKICAgIH0sCiAgICBnZXRUb3BNZW51U3RhdHVzOiBmdW5jdGlvbiBnZXRUb3BNZW51U3RhdHVzKHRvcE1lbnVJZCkgewogICAgICBpZiAodGhpcy5hbGxUb3BNZW51cyAmJiB0aGlzLmFsbFRvcE1lbnVzW3RvcE1lbnVJZF0gJiYgQXJyYXkuaXNBcnJheSh0aGlzLmFsbFRvcE1lbnVzW3RvcE1lbnVJZF0pICYmIHRoaXMuYWxsVG9wTWVudXNbdG9wTWVudUlkXS5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlU2VsZWN0VG9wTWVudTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0VG9wTWVudSh0b3BNZW51LCBldmVudCkgewogICAgICAvLyBjb25zdCBwYXJlbnQgPSBldmVudC5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUKICAgICAgaWYgKHRvcE1lbnUudGFyZ2V0ID09PSAnX2JsYW5rJykgewogICAgICAgIHNldFNlc3Npb25TdG9yYWdlKENVUlJFTlRfVE9QX01FTlUsIHRvcE1lbnUuaWQpOwogICAgICAgIHdpbmRvdy5vcGVuKHRvcE1lbnUucmVkaXJlY3QsICdfYmxhbmsnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5wYXJlbnROb2RlLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudC5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5jaGlsZHJlbltpXS5jbGFzc05hbWUuaW5kZXhPZignYWN0aXZlJykgPiAtMSkgewogICAgICAgIC8vICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5jaGlsZHJlbltpXS5jbGFzc05hbWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUuY2hpbGRyZW5baV0uY2xhc3NOYW1lLnJlcGxhY2UoJ2FjdGl2ZScsICcnKQogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfQogICAgICAgIHRoaXMuc2VsZWN0S2V5ID0gdG9wTWVudS5pZDsKICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTmFtZSA9ICdhY3RpdmUnOwogICAgICAgIHRoaXMuJGVtaXQoJ2NsaWNrJywgdG9wTWVudSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["VenusTopMenu.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"venus-top-menu\">\n    <ul class=\"list\">\n      <template v-for=\"menu in topMenu\">\n      <li :class=\"{ active: `${selectKey}` === `${menu.id}` }\"\n          @click.stop=\"handleSelectTopMenu(menu, $event)\"\n          v-if=\"getTopMenuStatus(menu.id)\"\n          :key=\"menu.id\">\n        <!-- <a-dropdown v-if=\"mode !== 'sidemenu' && itemClass(menu.id).active === true\">\n          <span class=\"ant-dropdown-link dropdownSpan\">\n            <span class=\"dropdownSpan-img\">\n              <img :src=\"imgSrc(menu.icon)\"\n                   class=\"top-menu-icon\" />\n            </span>\n            {{ menu.name }}\n            <div class=\"progress\"></div>\n          </span>\n          <s-menu slot=\"overlay\"\n                  class=\"venus-top-menu-dropdown-menu-wrapper\"\n                  :menu=\"getSubMenu(menu)\"\n                  :theme=\"theme\" />\n        </a-dropdown> -->\n        <span class=\"ant-dropdown-link dropdownSpan\">\n          <span class=\"dropdownSpan-img\">\n            <img :src=\"imgSrc(menu.icon)\"\n                 class=\"top-menu-icon\" />\n          </span>\n          {{ menu.name }}\n          <div class=\"progress\"></div>\n        </span>\n      </li>\n      </template>\n    </ul>\n  </div>\n</template>\n\n<script>\n/**\n *  作者：姚正超\n *  描述：V1.0版本，请勿随意乱更改组件\n *  日期：2020年5月9日\n */\nimport NProgress from 'nprogress' // progress bar\nimport Vue from 'vue'\nimport { CURRENT_TOP_MENU } from '@/store/mutation-types'\nimport { getSessionStorage, setSessionStorage } from '@/utils/util'\nimport prefix from '@/config/prefix'\n// import SubMenu from './SubMenu'\nimport SMenu from './SubMenu.js'\n\nexport default {\n  name: 'VenusTopMenu',\n  components: {\n    SMenu\n  },\n  props: {\n    topMenuList: {\n      type: Array,\n      default: () => []\n    },\n    mode: {\n      type: String,\n      default: 'sidemenu'\n    },\n    theme: {\n      type: String,\n      default: 'dark'\n    },\n    subMenus: {\n      type: Object,\n      required: true,\n      default: () => { }\n    },\n    allTopMenus: {\n      type: Object,\n      required: true,\n      default: () => { }\n    }\n  },\n  data() {\n    return {\n      topMenu: [],\n      selectKey: ''\n    }\n  },\n  computed: {\n    currentTopMenu: function () {\n      for (let i = 0; i < this.topMenuList.length; i++) {\n        if (`${this.topMenuList[i].id}` === `${getSessionStorage(CURRENT_TOP_MENU)}`) {\n          return this.topMenuList[i]\n        }\n      }\n      this.$message.error('没有找到对应的主菜单项')\n      return {}\n    }\n  },\n  created() {\n    this.topMenu = this.topMenuList.filter(menu => menu.visible === '0')\n    const top = this.currentTopMenu\n    if (top.layoutMode) {\n      this.$store.dispatch('ToggleLayoutMode', top.layoutMode)\n    }\n    this.selectKey = getSessionStorage(CURRENT_TOP_MENU)\n    // if (top.multiTab !== undefined && `${top.multiTab}` !== `${this.multiTab}`) {\n    //   if (`${top.multiTab}` === 'true') {\n    //     this.$store.dispatch('ToggleMultiTab', true)\n    //   } else {\n    //     this.$store.dispatch('ToggleMultiTab', false)\n    //   }\n    // }\n  },\n  methods: {\n    // handleSelectTopMenu(topMenuId) {\n    //   let menu = {}\n    //   for (let i = 0; i < this.topMenu.length; i++) {\n    //     if (`${this.topMenu[i].id}` === `${topMenuId}`) {\n    //       menu = this.topMenu[i]\n    //       break\n    //     }\n    //   }\n    //   this.$emit('click', menu)\n    // }\n    imgSrc: function (filePath) {\n      return prefix.OPEN_URL_PREFIX + filePath\n    },\n    getSubMenu: function (topMenu) {\n      if (this.mode !== 'sidemenu') {\n        return this.subMenus[topMenu.id]\n      }\n      return []\n    },\n    getTopMenuStatus(topMenuId) {\n      if (this.allTopMenus && this.allTopMenus[topMenuId] && Array.isArray(this.allTopMenus[topMenuId]) && this.allTopMenus[topMenuId].length > 0) {\n        return true\n      } else {\n        return false\n      }\n    },\n    handleSelectTopMenu(topMenu, event) {\n      // const parent = event.currentTarget.parentNode\n      if (topMenu.target === '_blank') {\n        setSessionStorage(CURRENT_TOP_MENU, topMenu.id)\n        window.open(topMenu.redirect, '_blank')\n      } else {\n        // if (event.currentTarget.parentNode.children.length) {\n        //   for (let i = 0; i < event.currentTarget.parentNode.children.length; i++) {\n        //     if (event.currentTarget.parentNode.children[i].className.indexOf('active') > -1) {\n        //       event.currentTarget.parentNode.children[i].className = event.currentTarget.parentNode.children[i].className.replace('active', '')\n        //     }\n        //   }\n        // }\n        this.selectKey = topMenu.id\n        event.currentTarget.className = 'active'\n        this.$emit('click', topMenu)\n      }\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/pts/TopMenu"}]}