{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/eslint-loader/index.js??ref--13-0!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/locales/index.js","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/locales/index.js","mtime":1605568762433},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2N4ZHBjL1dvcmtTcGFjZXMvaWRlYV93b3Jrc3BhY2Uvd2VkZGluZy13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwoKLyoqCiAqIFZ1ZSBpMThuIGxvYWRlcgogKiBjcmVhdGVkIGJ5IEBtdXNub3cKICogaHR0cHM6Ly9naXRodWIuY29tL211c25vdwogKi8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlSTE4biBmcm9tICd2dWUtaTE4bic7IC8vIGRlZmF1bHQgbGFuZ3VhZ2UKCmltcG9ydCBlblVTIGZyb20gJy4vbGFuZy9lbi1VUyc7IC8vIGNoYW5nZSBkZWZhdWx0IGFjY2VwdC1sYW5ndWFnZQoKaW1wb3J0IHsgYXhpb3MgfSBmcm9tICdAL3V0aWxzL3JlcXVlc3QnOwpWdWUudXNlKFZ1ZUkxOG4pOwpleHBvcnQgdmFyIGRlZmF1bHRMYW5nID0gJ2VuLVVTJzsKdmFyIG1lc3NhZ2VzID0gewogICdlbi1VUyc6IF9vYmplY3RTcHJlYWQoe30sIGVuVVMpCn07CnZhciBpMThuID0gbmV3IFZ1ZUkxOG4oewogIGxvY2FsZTogZGVmYXVsdExhbmcsCiAgZmFsbGJhY2tMb2NhbGU6IGRlZmF1bHRMYW5nLAogIG1lc3NhZ2VzOiBtZXNzYWdlcwp9KTsKZXhwb3J0IGRlZmF1bHQgaTE4bjsKdmFyIGxvYWRlZExhbmd1YWdlcyA9IFtkZWZhdWx0TGFuZ107IC8vIOS7jue8k+WtmOioree9ruS4reWKoOi9veW9k+WJjeivreiogAovLyBpZiAoVnVlLmxzLmdldCgnbGFuZycpICE9PSBudWxsICYmIGRlZmF1bHRMYW5nICE9PSBWdWUubHMuZ2V0KCdsYW5nJykpIHsKLy8gICBsb2FkTGFuZ3VhZ2VBc3luYyhsb2NhbFN0b3JhZ2UubGFuZykKLy8gfQoKZnVuY3Rpb24gc2V0STE4bkxhbmd1YWdlKGxhbmcpIHsKICBpMThuLmxvY2FsZSA9IGxhbmc7CiAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0FjY2VwdC1MYW5ndWFnZSddID0gbGFuZzsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykuc2V0QXR0cmlidXRlKCdsYW5nJywgbGFuZyk7CiAgcmV0dXJuIGxhbmc7Cn0KCmV4cG9ydCBmdW5jdGlvbiBsb2FkTGFuZ3VhZ2VBc3luYygpIHsKICB2YXIgbGFuZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZGVmYXVsdExhbmc7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAvLyDnvJPlrZjor63oqIDorr7nva4KICAgIFZ1ZS5scy5zZXQoJ2xhbmcnLCBsYW5nKTsKCiAgICBpZiAoaTE4bi5sb2NhbGUgIT09IGxhbmcpIHsKICAgICAgaWYgKCFsb2FkZWRMYW5ndWFnZXMuaW5jbHVkZXMobGFuZykpIHsKICAgICAgICByZXR1cm4gaW1wb3J0KAogICAgICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJsYW5nLVtyZXF1ZXN0XSIgKi8KICAgICAgICAiLi9sYW5nLyIuY29uY2F0KGxhbmcpKS50aGVuKGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgIGkxOG4uc2V0TG9jYWxlTWVzc2FnZShsYW5nLCBtc2cuZGVmYXVsdCk7CiAgICAgICAgICBsb2FkZWRMYW5ndWFnZXMucHVzaChsYW5nKTsKICAgICAgICAgIHJldHVybiBzZXRJMThuTGFuZ3VhZ2UobGFuZyk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXNvbHZlKHNldEkxOG5MYW5ndWFnZShsYW5nKSk7CiAgICB9CgogICAgcmV0dXJuIHJlc29sdmUobGFuZyk7CiAgfSk7Cn0="},{"version":3,"sources":["/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/locales/index.js"],"names":["Vue","VueI18n","enUS","axios","use","defaultLang","messages","i18n","locale","fallbackLocale","loadedLanguages","setI18nLanguage","lang","defaults","headers","common","document","querySelector","setAttribute","loadLanguageAsync","Promise","resolve","ls","set","includes","then","msg","setLocaleMessage","default","push"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,OAAP,MAAoB,UAApB,C,CACA;;AACA,OAAOC,IAAP,MAAiB,cAAjB,C,CACA;;AACA,SAASC,KAAT,QAAsB,iBAAtB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,OAAR;AAEA,OAAO,IAAMI,WAAW,GAAG,OAApB;AAEP,IAAMC,QAAQ,GAAG;AACf,6BACKJ,IADL;AADe,CAAjB;AAMA,IAAMK,IAAI,GAAG,IAAIN,OAAJ,CAAY;AACvBO,EAAAA,MAAM,EAAEH,WADe;AAEvBI,EAAAA,cAAc,EAAEJ,WAFO;AAGvBC,EAAAA,QAAQ,EAARA;AAHuB,CAAZ,CAAb;AAMA,eAAeC,IAAf;AAEA,IAAMG,eAAe,GAAG,CAACL,WAAD,CAAxB,C,CAEA;AACA;AACA;AACA;;AAEA,SAASM,eAAT,CAA0BC,IAA1B,EAAgC;AAC9BL,EAAAA,IAAI,CAACC,MAAL,GAAcI,IAAd;AACAT,EAAAA,KAAK,CAACU,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,iBAA9B,IAAmDH,IAAnD;AACAI,EAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,YAA/B,CAA4C,MAA5C,EAAoDN,IAApD;AACA,SAAOA,IAAP;AACD;;AAED,OAAO,SAASO,iBAAT,GAAgD;AAAA,MAApBP,IAAoB,uEAAbP,WAAa;AACrD,SAAO,IAAIe,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B;AACArB,IAAAA,GAAG,CAACsB,EAAJ,CAAOC,GAAP,CAAW,MAAX,EAAmBX,IAAnB;;AACA,QAAIL,IAAI,CAACC,MAAL,KAAgBI,IAApB,EAA0B;AACxB,UAAI,CAACF,eAAe,CAACc,QAAhB,CAAyBZ,IAAzB,CAAL,EAAqC;AACnC,eAAO;AAAO;AAAP,yBAA0DA,IAA1D,GAAkEa,IAAlE,CAAuE,UAAAC,GAAG,EAAI;AACnFnB,UAAAA,IAAI,CAACoB,gBAAL,CAAsBf,IAAtB,EAA4Bc,GAAG,CAACE,OAAhC;AACAlB,UAAAA,eAAe,CAACmB,IAAhB,CAAqBjB,IAArB;AACA,iBAAOD,eAAe,CAACC,IAAD,CAAtB;AACD,SAJM,CAAP;AAKD;;AACD,aAAOS,OAAO,CAACV,eAAe,CAACC,IAAD,CAAhB,CAAd;AACD;;AACD,WAAOS,OAAO,CAACT,IAAD,CAAd;AACD,GAdM,CAAP;AAeD","sourcesContent":["/**\n * Vue i18n loader\n * created by @musnow\n * https://github.com/musnow\n */\nimport Vue from 'vue'\nimport VueI18n from 'vue-i18n'\n// default language\nimport enUS from './lang/en-US'\n// change default accept-language\nimport { axios } from '@/utils/request'\n\nVue.use(VueI18n)\n\nexport const defaultLang = 'en-US'\n\nconst messages = {\n  'en-US': {\n    ...enUS\n  }\n}\n\nconst i18n = new VueI18n({\n  locale: defaultLang,\n  fallbackLocale: defaultLang,\n  messages\n})\n\nexport default i18n\n\nconst loadedLanguages = [defaultLang]\n\n// 从缓存設置中加载当前语言\n// if (Vue.ls.get('lang') !== null && defaultLang !== Vue.ls.get('lang')) {\n//   loadLanguageAsync(localStorage.lang)\n// }\n\nfunction setI18nLanguage (lang) {\n  i18n.locale = lang\n  axios.defaults.headers.common['Accept-Language'] = lang\n  document.querySelector('html').setAttribute('lang', lang)\n  return lang\n}\n\nexport function loadLanguageAsync (lang = defaultLang) {\n  return new Promise(resolve => {\n    // 缓存语言设置\n    Vue.ls.set('lang', lang)\n    if (i18n.locale !== lang) {\n      if (!loadedLanguages.includes(lang)) {\n        return import(/* webpackChunkName: \"lang-[request]\" */ `./lang/${lang}`).then(msg => {\n          i18n.setLocaleMessage(lang, msg.default)\n          loadedLanguages.push(lang)\n          return setI18nLanguage(lang)\n        })\n      }\n      return resolve(setI18nLanguage(lang))\n    }\n    return resolve(lang)\n  })\n}\n"]}]}