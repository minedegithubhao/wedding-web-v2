{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/views/pts/matchmaker/modules/HunMatchmakerModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/views/pts/matchmaker/modules/HunMatchmakerModal.vue","mtime":1605786448175},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHNhdmVIdW5NYXRjaG1ha2VyIH0gZnJvbSAnQC9hcGkvcHRzL21hdGNobWFrZXIvbWF0Y2htYWtlcicKaW1wb3J0IHBpY2sgZnJvbSAnbG9kYXNoLnBpY2snCmltcG9ydCB7IGdldERpY3RBcnJheSB9IGZyb20gJ0AvdXRpbHMvZGljdCcKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0h1bk1hdGNobWFrZXJNb2RhbCcsCiAgcHJvcHM6IHsKICB9LAogIGNvbXBvbmVudHM6IHsKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgbGFiZWxDb2w6IHsKICAgICAgICB4czogeyBzcGFuOiAyNCB9LAogICAgICAgIHNtOiB7IHNwYW46IDUgfQogICAgICB9LAogICAgICB3cmFwcGVyQ29sOiB7CiAgICAgICAgeHM6IHsgc3BhbjogMjQgfSwKICAgICAgICBzbTogeyBzcGFuOiAxNiB9CiAgICAgIH0sCiAgICAgIGNvbmZpcm1Mb2FkaW5nOiBmYWxzZSwKICAgICAgbWRsOiB7fSwKICAgICAgc3RhdHVzQXJyYXk6IFtdLAogICAgICBzZXhBcnJheTogW10sCiAgICAgIHNvdXJjZUFycmF5OiBbXSwKICAgICAgcHJlc2VudFR5cGVBcnJheTogW10sCiAgICAgIGZvcm06IHRoaXMuJGZvcm0uY3JlYXRlRm9ybSh0aGlzKQogICAgfQogIH0sCiAgYmVmb3JlQ3JlYXRlKCkgewogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0KCkgewogICAgICBnZXREaWN0QXJyYXkoJ3N5c19zZXgnKS50aGVuKGRhdGEgPT4gewogICAgICAgIHRoaXMuc2V4QXJyYXkgPSBkYXRhCiAgICAgIH0pCiAgICAgIGdldERpY3RBcnJheSgnaHVuX21hdGNobWFrZXJfdHlwZScpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgdGhpcy50eXBlQXJyYXkgPSBkYXRhCiAgICAgIH0pCiAgICAgIGdldERpY3RBcnJheSgnaHVuX21hdGNobWFrZXJfcmVzb3VyY2VzJykudGhlbihkYXRhID0+IHsKICAgICAgICB0aGlzLnNvdXJjZUFycmF5ID0gZGF0YQogICAgICB9KQogICAgICBnZXREaWN0QXJyYXkoJ2h1bl9tYXRjaG1ha2VyX2V4dHJhX3NhbGFyeV90eXBlJykudGhlbihkYXRhID0+IHsKICAgICAgICB0aGlzLnByZXNlbnRUeXBlQXJyYXkgPSBkYXRhCiAgICAgIH0pCiAgICAgIGdldERpY3RBcnJheSgnc3lzX25vcm1hbF9kaXNhYmxlJykudGhlbihkYXRhID0+IHsKICAgICAgICB0aGlzLnN0YXR1c0FycmF5ID0gZGF0YQogICAgICB9KQogICAgfSwKICAgIGFkZCgpIHsKICAgICAgdGhpcy5mb3JtLnJlc2V0RmllbGRzKCkKICAgICAgdGhpcy5lZGl0KHsgaWQ6IDAgfSkKICAgIH0sCiAgICBlZGl0KHJlY29yZCkgewogICAgICB0aGlzLm1kbCA9IE9iamVjdC5hc3NpZ24ocmVjb3JkKQogICAgICBpZiAodGhpcy5tZGwuYmlydGhkYXkpIHsKICAgICAgICB0aGlzLm1kbC5iaXJ0aGRheSA9IG1vbWVudCh0aGlzLm1kbC5iaXJ0aGRheSwgJ1lZWVktTU0tREQnKQogICAgICB9CiAgICAgIHRoaXMudmlzaWJsZSA9IHRydWUKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuZm9ybS5zZXRGaWVsZHNWYWx1ZShwaWNrKHRoaXMubWRsLCAnaWQnLCAnZGVsRmxhZycsICdzdGF0dXMnLCAnY3JlYXRlQnknLCAnY3JlYXRlVGltZScsICd1cGRhdGVCeScsICd1cGRhdGVUaW1lJywgJ3JlbWFyaycsICdwYXJzZTEnLCAncGFyc2UyJywgJ3BhcnNlMycsICdwYXJzZTQnLCAncGFyc2U1JywgJ25hbWUnLCAnc2V4JywgJ2JpcnRoZGF5JywgJ2hvbWVBZGRyJywgJ3Bob25lJywgJ3dlY2hhdCcsICdxcScsICdlbWFpbCcsICd0eXBlJywgJ3NvdXJjZScsICdwcmVzZW50VHlwZScsICdwZXJzZW50VmFsdWUnKSkKICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVTdWJtaXQoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCkKICAgICAgdGhpcy5mb3JtLnZhbGlkYXRlRmllbGRzKChlcnIsIHZhbHVlcykgPT4gewogICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICBpZiAodmFsdWVzLmJpcnRoZGF5KSB7CiAgICAgICAgICAgIHZhbHVlcy5iaXJ0aGRheSA9IHZhbHVlcy5iaXJ0aGRheS5mb3JtYXQoJ1lZWVktTU0tREQnKQogICAgICAgICAgfQogICAgICAgICAgdGhpcy5jb25maXJtTG9hZGluZyA9IHRydWUKICAgICAgICAgIHNhdmVIdW5NYXRjaG1ha2VyKHZhbHVlcykudGhlbihyZXMgPT4gewogICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/neWtmOaIkOWKnycpCiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb2snKQogICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKQogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ezu+e7n+mUmeivr++8jOivt+eojeWQjuWGjeivlScpCiAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICAgICAgdGhpcy5jb25maXJtTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["HunMatchmakerModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HunMatchmakerModal.vue","sourceRoot":"src/views/pts/matchmaker/modules","sourcesContent":["<template>\n  <a-modal title=\"操作\"\n           style=\"top: 20px;\"\n           :width=\"800\"\n           v-model=\"visible\"\n           :confirmLoading=\"confirmLoading\"\n           @ok=\"handleSubmit\">\n    <a-form :form=\"form\">\n      <a-form-item style=\"display:none\">\n        <a-input v-decorator=\"['id']\" />\n      </a-form-item>\n      <a-form-item :labelCol=\"labelCol\"\n                   :wrapperCol=\"wrapperCol\"\n                   label=\"姓名\">\n        <a-input placeholder=\"姓名\"\n                 v-decorator=\"['name', {rules: [{ required: true, message: '请输入姓名' }]}]\" />\n      </a-form-item>\n      <a-form-item :labelCol=\"labelCol\"\n                   :wrapperCol=\"wrapperCol\"\n                   label=\"性别\">\n        <a-select placeholder=\"性别\"\n                  v-decorator=\"['sex', {rules: [{ required: true, message: '请选择性别' }]}]\">\n          <a-select-option v-for=\"(b, index) in sexArray\"\n                           :key=\"index\"\n                           :value=\"b.dictValue\">{{ b.dictLabel }}</a-select-option>\n        </a-select>\n      </a-form-item>\n      <a-form-item :labelCol=\"labelCol\"\n                   :wrapperCol=\"wrapperCol\"\n                   label=\"生日\">\n        <a-date-picker placeholder=\"生日\"\n                       v-decorator=\"['birthday']\" />\n      </a-form-item>\n      <a-form-item :labelCol=\"labelCol\"\n                   :wrapperCol=\"wrapperCol\"\n                   label=\"家庭住址\">\n        <a-textarea placeholder=\"家庭住址...\"\n                    v-decorator=\"['homeAddr', {rules: [{ required: false, message: '请输入家庭住址' }]}]\"\n                    :auto-size=\"{ minRows: 3, maxRows: 6 }\" />\n      </a-form-item>\n      <a-form-item :labelCol=\"labelCol\"\n                   :wrapperCol=\"wrapperCol\"\n                   label=\"联系电话\">\n        <a-input placeholder=\"联系电话\"\n                 v-decorator=\"['phone', {rules: [{ required: true, message: '请输入正确的手机号', pattern: /^1[3456789]\\d{9}$/ } ], validateTrigger: ['change', 'blur'] }]\" />\n      </a-form-item>\n      <a-form-item :labelCol=\"labelCol\"\n                   :wrapperCol=\"wrapperCol\"\n                   label=\"微信号\">\n        <a-input placeholder=\"微信号\"\n                 v-decorator=\"['wechat']\" />\n      </a-form-item>\n      <a-form-item :labelCol=\"labelCol\"\n                   :wrapperCol=\"wrapperCol\"\n                   label=\"QQ号\">\n        <a-input placeholder=\"QQ号\"\n                 v-decorator=\"['qq']\" />\n      </a-form-item>\n      <a-form-item :labelCol=\"labelCol\"\n                   :wrapperCol=\"wrapperCol\"\n                   label=\"邮箱\">\n        <a-input placeholder=\"邮箱\"\n                 v-decorator=\"['email']\" />\n      </a-form-item>\n      <a-form-item :labelCol=\"labelCol\"\n                   :wrapperCol=\"wrapperCol\"\n                   label=\"红娘类型\">\n        <a-select placeholder=\"红娘类型\"\n                  v-decorator=\"['type', {rules: [{ required: true, message: '请选择红娘类型' }]}]\">\n          <a-select-option v-for=\"(b, index) in typeArray\"\n                           :key=\"index\"\n                           :value=\"b.dictValue\">{{ b.dictLabel }}</a-select-option>\n        </a-select>\n      </a-form-item>\n      <a-form-item :labelCol=\"labelCol\"\n                   :wrapperCol=\"wrapperCol\"\n                   label=\"是否掌握资源\">\n        <a-select placeholder=\"是否掌握资源\"\n                  v-decorator=\"['source', {rules: [{ required: true, message: '请选择是否掌握资源' }]}]\">\n          <a-select-option v-for=\"(b, index) in sourceArray\"\n                           :key=\"index\"\n                           :value=\"b.dictValue\">{{ b.dictLabel }}</a-select-option>\n        </a-select>\n      </a-form-item>\n      <a-form-item :labelCol=\"labelCol\"\n                   :wrapperCol=\"wrapperCol\"\n                   label=\"提成类型\">\n        <a-select placeholder=\"提成类型\"\n                  v-decorator=\"['presentType', {rules: [{ required: true, message: '请选择提成类型' }]}]\">\n          <a-select-option v-for=\"(b, index) in presentTypeArray\"\n                           :key=\"index\"\n                           :value=\"b.dictValue\">{{ b.dictLabel }}</a-select-option>\n        </a-select>\n      </a-form-item>\n      <a-form-item :labelCol=\"labelCol\"\n                   :wrapperCol=\"wrapperCol\"\n                   label=\"提成值\">\n        <a-input placeholder=\"提成值\"\n                 v-decorator=\"['persentValue']\" />\n      </a-form-item>\n      <a-form-item :labelCol=\"labelCol\"\n                   :wrapperCol=\"wrapperCol\"\n                   label=\"状态\">\n        <a-select v-decorator=\"['status', {initialValue:'0', rules: [{required: true, message: '请选择状态'}]}]\">\n          <a-select-option v-for=\"(b, index) in statusArray\"\n                           :key=\"index\"\n                           :value=\"b.dictValue\">{{ b.dictLabel }}</a-select-option>\n        </a-select>\n      </a-form-item>\n    </a-form>\n  </a-modal>\n</template>\n<script>\nimport { saveHunMatchmaker } from '@/api/pts/matchmaker/matchmaker'\nimport pick from 'lodash.pick'\nimport { getDictArray } from '@/utils/dict'\nimport moment from 'moment'\n\nexport default {\n  name: 'HunMatchmakerModal',\n  props: {\n  },\n  components: {\n  },\n  data() {\n    return {\n      visible: false,\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 5 }\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 16 }\n      },\n      confirmLoading: false,\n      mdl: {},\n      statusArray: [],\n      sexArray: [],\n      sourceArray: [],\n      presentTypeArray: [],\n      form: this.$form.createForm(this)\n    }\n  },\n  beforeCreate() {\n  },\n  created() {\n    this.init()\n  },\n  methods: {\n    init() {\n      getDictArray('sys_sex').then(data => {\n        this.sexArray = data\n      })\n      getDictArray('hun_matchmaker_type').then(data => {\n        this.typeArray = data\n      })\n      getDictArray('hun_matchmaker_resources').then(data => {\n        this.sourceArray = data\n      })\n      getDictArray('hun_matchmaker_extra_salary_type').then(data => {\n        this.presentTypeArray = data\n      })\n      getDictArray('sys_normal_disable').then(data => {\n        this.statusArray = data\n      })\n    },\n    add() {\n      this.form.resetFields()\n      this.edit({ id: 0 })\n    },\n    edit(record) {\n      this.mdl = Object.assign(record)\n      if (this.mdl.birthday) {\n        this.mdl.birthday = moment(this.mdl.birthday, 'YYYY-MM-DD')\n      }\n      this.visible = true\n      this.$nextTick(() => {\n        this.form.setFieldsValue(pick(this.mdl, 'id', 'delFlag', 'status', 'createBy', 'createTime', 'updateBy', 'updateTime', 'remark', 'parse1', 'parse2', 'parse3', 'parse4', 'parse5', 'name', 'sex', 'birthday', 'homeAddr', 'phone', 'wechat', 'qq', 'email', 'type', 'source', 'presentType', 'persentValue'))\n      })\n    },\n    handleSubmit(e) {\n      e.preventDefault()\n      this.form.validateFields((err, values) => {\n        if (!err) {\n          if (values.birthday) {\n            values.birthday = values.birthday.format('YYYY-MM-DD')\n          }\n          this.confirmLoading = true\n          saveHunMatchmaker(values).then(res => {\n            if (res.code === 0) {\n              this.$message.success('保存成功')\n              this.$emit('ok')\n              this.visible = false\n            } else {\n              this.$message.error(res.msg)\n            }\n          }).catch(() => {\n            this.$message.error('系统错误，请稍后再试')\n          }).finally(() => {\n            this.confirmLoading = false\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n"]}]}