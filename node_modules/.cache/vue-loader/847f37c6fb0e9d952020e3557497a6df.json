{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/views/account/settings/Security.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/views/account/settings/Security.vue","mtime":1605568762448},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHVwZGF0ZVB3ZCB9IGZyb20gJ0AvYXBpL3N5c3RlbScKaW1wb3J0IHBpY2sgZnJvbSAnbG9kYXNoLnBpY2snCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhc3N3b3JkVXBkYXRlOiBmYWxzZSwKICAgICAgcGFzc3dvcmRMb2FkaW5nOiBmYWxzZSwKICAgICAgcGFzc3dvcmRTdGF0dXM6IGZhbHNlLAogICAgICBzdHJlbmd0aE9uZTogJ3Bhc3N3b3JkLXdlYWsnLAogICAgICBzdHJlbmd0aFR3bzogJ3Bhc3N3b3JkLW5vcm1hbCcsCiAgICAgIHN0cmVuZ3RoVGhyZWU6ICdwYXNzd29yZC1ub3JtYWwnLAogICAgICBmb3JtOiB0aGlzLiRmb3JtLmNyZWF0ZUZvcm0odGhpcyksCiAgICAgIGxhYmVsQ29sOiB7CiAgICAgICAgeHM6IHsgc3BhbjogMjQgfSwKICAgICAgICBzbTogeyBzcGFuOiA1IH0KICAgICAgfSwKICAgICAgd3JhcHBlckNvbDogewogICAgICAgIHhzOiB7IHNwYW46IDI0IH0sCiAgICAgICAgc206IHsgc3BhbjogMTYgfQogICAgICB9LAogICAgICBmb3JtVmFsaWRhdG9yUnVsZXM6IHsKICAgICAgICB1c2VyTmFtZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflkI0nIH1dLAogICAgICAgIG9sZFBhc3N3b3JkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWluOiA2LCBtYXg6IDE2LCBtZXNzYWdlOiAn6K+36L6T5YWlNuWIsDE25L2N5a+G56CBLOWMuuWIhuWkp+Wwj+WGmScgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1pbjogNiwgbWF4OiAxNiwgbWVzc2FnZTogJ+ivt+i+k+WFpTbliLAxNuS9jeWvhueggSzljLrliIblpKflsI/lhpknIH0sCiAgICAgICAgICB7IHZhbGlkYXRvcjogdGhpcy52YWxpZGF0b3JQd2RTdHJlbmd0aCB9CiAgICAgICAgXSwKICAgICAgICBwYXNzd29yZDI6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1pbjogNiwgbWF4OiAxNiwgbWVzc2FnZTogJ+ivt+i+k+WFpTbliLAxNuS9jeWvhueggSzljLrliIblpKflsI/lhpknIH0sCiAgICAgICAgICB7IHZhbGlkYXRvcjogdGhpcy52YWxpZGF0b3JQYXNzd29yZDIgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgZGF0YTogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn6LSm5oi35a+G56CBJywKICAgICAgICAgIGRlc2NyaXB0aW9uOiAn55So5oi35a+G56CB6K6+572uJywKICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICAgIGFjdGlvbnM6IHsKICAgICAgICAgICAgdGl0bGU6ICfkv67mlLknLAogICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gewogICAgICAgICAgICAgIHRoaXMucGFzc3dvcmRVcGRhdGUgPSAhdGhpcy5wYXNzd29yZFVwZGF0ZQogICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5zZXRGaWVsZHNWYWx1ZShwaWNrKHRoaXMudXNlckluZm8sICd1c2VySWQnLCAndXNlck5hbWUnKSkKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIHsgdGl0bGU6ICflr4bkv53miYvmnLonLCBkZXNjcmlwdGlvbjogJ+W3sue7keWumuaJi+acuicsIHZhbHVlOiAnMTM4KioqKjgyOTMnLCBhY3Rpb25zOiB7IHRpdGxlOiAn5L+u5pS5JywgY2FsbGJhY2s6ICgpID0+IHsgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCdUaGlzIGlzIGEgbWVzc2FnZSBvZiBzdWNjZXNzJykgfSB9IH0sCiAgICAgICAgLy8geyB0aXRsZTogJ+WvhuS/nemXrumimCcsIGRlc2NyaXB0aW9uOiAn5pyq6K6+572u5a+G5L+d6Zeu6aKY77yM5a+G5L+d6Zeu6aKY5Y+v5pyJ5pWI5L+d5oqk6LSm5oi35a6J5YWoJywgdmFsdWU6ICcnLCBhY3Rpb25zOiB7IHRpdGxlOiAn6K6+572uJywgY2FsbGJhY2s6ICgpID0+IHsgdGhpcy4kbWVzc2FnZS5lcnJvcignVGhpcyBpcyBhIG1lc3NhZ2Ugb2YgZXJyb3InKSB9IH0gfSwKICAgICAgICAvLyB7IHRpdGxlOiAn5aSH55So6YKu566xJywgZGVzY3JpcHRpb246ICflt7Lnu5Hlrprpgq7nrrEnLCB2YWx1ZTogJ2FudCoqKnNpZ24uY29tJywgYWN0aW9uczogeyB0aXRsZTogJ+S/ruaUuScsIGNhbGxiYWNrOiAoKSA9PiB7IHRoaXMuJG1lc3NhZ2Uud2FybmluZygnVGhpcyBpcyBtZXNzYWdlIG9mIHdhcm5pbmcnKSB9IH0gfQogICAgICAgIC8vIHsgdGl0bGU6ICdNRkEg6K6+5aSHJywgZGVzY3JpcHRpb246ICfmnKrnu5HlrpogTUZBIOiuvuWkh++8jOe7keWumuWQju+8jOWPr+S7pei/m+ihjOS6jOasoeehruiupCcsIHZhbHVlOiAnJywgYWN0aW9uczogeyB0aXRsZTogJ+e7keWumicsIGNhbGxiYWNrOiAoKSA9PiB7IHRoaXMuJG1lc3NhZ2UuaW5mbygnVGhpcyBpcyBhIG5vcm1hbCBtZXNzYWdlJykgfSB9IH0KICAgICAgXQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHt9LAogIGNvbXB1dGVkOiB7CiAgICB1c2VySW5mbygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMudXNlckluZm8KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHZhbGlkYXRvclB3ZFN0cmVuZ3RoKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAvLyDlr4bnoIHplb/luqblpKfkuo7nrYnkuo445L2N5pWwIOWMheWQq+Wkp+WGmeWtl+avjVtBLVpdICsg5bCP5YaZ5a2X5q+NW2Etel0gKyDmlbDlrZdbMC05XSArIOmdnuWNleivjeWtl+espueahOeJueauiuWtl+esplvmoIfngrnnrKblj7fvvIznqbrmoLznrYldCiAgICAgIGNvbnN0IHN0cm9uZ1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXig/PS57OCx9KSg/PS4qW0EtWl0pKD89LipbYS16XSkoPz0uKlswLTldKSg/PS4qXFxXKS4qJCcsICdnJykgLy8g5by6CiAgICAgIC8vIOWvhueggemVv+W6puWkp+S6juetieS6jjfkvY3mlbAg5aSn5YaZ5a2X5q+NW0EtWl0gKyDlsI/lhpnlrZfmr41bYS16XSDmiJbogIUg5aSn5YaZ5a2X5q+NW0EtWl0gKyDmlbDlrZdbMC05XSDmiJbogIUg5bCP5YaZ5a2X5q+NW2Etel0gKyDmlbDlrZdbMC05XSArIOS7u+aEj+Wtl+espiDnu5PlsL4KICAgICAgY29uc3QgbWVkaXVtUmVnZXggPSBuZXcgUmVnRXhwKCdeKD89Lns3LH0pKCgoPz0uKltBLVpdKSg/PS4qW2Etel0pKXwoKD89LipbQS1aXSkoPz0uKlswLTldKSl8KCg/PS4qW2Etel0pKD89LipbMC05XSkpKS4qJCcsICdnJykgLy8g5LitCiAgICAgIC8vIOWkp+S6juetieS6jjbkvY0g5Lu75L2V5a2X56ym5oiW6ICF5pWw5a2XICjlpoLmnpzovr7kuI3liLDov5nkuKrmnaHku7blsLHmmK/lvLEpCiAgICAgIGNvbnN0IGVub3VnaFJlZ2V4ID0gbmV3IFJlZ0V4cCgnKD89Lns2LH0pLionLCAnZycpIC8vIOW8sQogICAgICBpZiAoc3Ryb25nUmVnZXgudGVzdCh2YWx1ZSkpIHsKICAgICAgICB0aGlzLnN0cmVuZ3RoT25lID0gJ3Bhc3N3b3JkLXN0cm9uZycKICAgICAgICB0aGlzLnN0cmVuZ3RoVHdvID0gJ3Bhc3N3b3JkLXN0cm9uZycKICAgICAgICB0aGlzLnN0cmVuZ3RoVGhyZWUgPSAncGFzc3dvcmQtc3Ryb25nJwogICAgICB9IGVsc2UgaWYgKG1lZGl1bVJlZ2V4LnRlc3QodmFsdWUpKSB7CiAgICAgICAgdGhpcy5zdHJlbmd0aE9uZSA9ICdwYXNzd29yZC1taWRkbGUnCiAgICAgICAgdGhpcy5zdHJlbmd0aFR3byA9ICdwYXNzd29yZC1taWRkbGUnCiAgICAgICAgdGhpcy5zdHJlbmd0aFRocmVlID0gJ3Bhc3N3b3JkLW5vcm1hbCcKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnN0cmVuZ3RoT25lID0gJ3Bhc3N3b3JkLXdlYWsnCiAgICAgICAgdGhpcy5zdHJlbmd0aFR3byA9ICdwYXNzd29yZC1ub3JtYWwnCiAgICAgICAgdGhpcy5zdHJlbmd0aFRocmVlID0gJ3Bhc3N3b3JkLW5vcm1hbCcKICAgICAgfQogICAgICBpZiAodmFsdWUubGVuZ3RoID49IDYgJiYgdmFsdWUubGVuZ3RoIDw9IDE2KSB7CiAgICAgICAgdGhpcy5wYXNzd29yZFN0YXR1cyA9IHRydWUKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBhc3N3b3JkU3RhdHVzID0gZmFsc2UKICAgICAgfQogICAgICBjYWxsYmFjaygpCiAgICB9LAogICAgdmFsaWRhdG9yUGFzc3dvcmQyKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBjb25zdCBwYXNzd29yZCA9IHRoaXMuZm9ybS5nZXRGaWVsZFZhbHVlKCdwYXNzd29yZCcpCiAgICAgIGlmICh2YWx1ZSAmJiBwYXNzd29yZCAmJiB2YWx1ZS5sZW5ndGggPj0gNiAmJiB2YWx1ZS5sZW5ndGggPD0gMTYgJiYgdmFsdWUudHJpbSgpICE9PSBwYXNzd29yZC50cmltKCkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+S4pOasoeWvhueggeS4jeS4gOiHtCcpKQogICAgICB9CiAgICAgIGNhbGxiYWNrKCkKICAgIH0sCiAgICBwYXNzd29yZENsaWNrKCkgewogICAgICB0aGlzLnBhc3N3b3JkVXBkYXRlID0gIXRoaXMucGFzc3dvcmRVcGRhdGUKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuZm9ybS5zZXRGaWVsZHNWYWx1ZShwaWNrKHRoaXMudXNlckluZm8sICd1c2VySWQnLCAndXNlck5hbWUnKSkKICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVTdWJtaXQoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCkKICAgICAgY29uc3QgewogICAgICAgIGZvcm06IHsgdmFsaWRhdGVGaWVsZHMgfQogICAgICB9ID0gdGhpcwogICAgICB2YWxpZGF0ZUZpZWxkcygoZXJyLCB2YWx1ZXMpID0+IHsKICAgICAgICBpZiAoIWVycikgewogICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXMKICAgICAgICAgIHRoaXMuJGNvbmZpcm0oewogICAgICAgICAgICB0aXRsZTogJ+ehruWumuimgeS/ruaUueWvhueggT8nLAogICAgICAgICAgICBvbk9rKCkgewogICAgICAgICAgICAgIHNlbGYucGFzc3dvcmRMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgIHVwZGF0ZVB3ZCh2YWx1ZXMpCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBzZWxmLiRtZXNzYWdlLnN1Y2Nlc3MoYCR7dmFsdWVzLnVzZXJOYW1lfSBgICsgJ+S/ruaUueWvhueggeaIkOWKnycpCiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy4kZW1pdCgnb2snKQogICAgICAgICAgICAgICAgICAgIHNlbGYudmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYXNzd29yZFVwZGF0ZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZi4kbWVzc2FnZS5lcnJvcihyZXMubXNnKQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAgICAgc2VsZi4kbWVzc2FnZS5lcnJvcign57O757uf6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+VJykKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICAgICAgICAgIHNlbGYucGFzc3dvcmRMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uQ2FuY2VsKCkge30KICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["Security.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Security.vue","sourceRoot":"src/views/account/settings","sourcesContent":["<template>\n  <div>\n    <a-list itemLayout=\"horizontal\" :dataSource=\"data\">\n      <a-list-item slot=\"renderItem\" slot-scope=\"item, index\" :key=\"index\">\n        <a-list-item-meta>\n          <a slot=\"title\" @click=\"passwordClick\">{{ item.title }}</a>\n          <span slot=\"description\">\n            <span class=\"security-list-description\">{{ item.description }}</span>\n            <span v-if=\"item.value\">:</span>\n            <span class=\"security-list-value\">{{ item.value }}</span>\n          </span>\n        </a-list-item-meta>\n        <template v-if=\"item.actions\">\n          <a\n            slot=\"actions\"\n            class=\"a-actions\"\n            @click=\"item.actions.callback\"\n          >{{ passwordUpdate?'取消':item.actions.title }}</a>\n        </template>\n      </a-list-item>\n    </a-list>\n    <a-row v-if=\"passwordUpdate\" :style=\"{borderTop: '1px solid #ecebeb', paddingTop:'10px'}\">\n      <a-col :md=\"16\" :lg=\"16\">\n        <a-form :form=\"form\" layout=\"vertical\" @submit=\"handleSubmit\">\n          <a-form-item style=\"display:none\">\n            <a-input v-decorator=\"['userId']\" />\n          </a-form-item>\n          <a-form-item label=\"用户名\">\n            <a-input\n              placeholder=\"用户名\"\n              disabled\n              v-decorator=\"['userName', {rules: formValidatorRules.userName}]\"\n            />\n          </a-form-item>\n          <a-form-item label=\"旧密码\">\n            <a-input\n              placeholder=\"旧密码\"\n              type=\"password\"\n              autocomplete=\"false\"\n              v-decorator=\"['oldPassword', {rules: formValidatorRules.oldPassword}]\"\n            />\n          </a-form-item>\n          <a-form-item label=\"新密码\">\n            <a-input\n              placeholder=\"新密码\"\n              type=\"password\"\n              autocomplete=\"false\"\n              v-decorator=\"['password', {rules: formValidatorRules.password}]\"\n            />\n            <div v-if=\"passwordStatus\" class=\"password-strength\">\n              <span class=\"strength-label\">密码强度:</span>\n              <span class=\"strength-box\" :class=\"strengthOne\">弱</span>\n              <span class=\"strength-box\" :class=\"strengthTwo\">中</span>\n              <span class=\"strength-box\" :class=\"strengthThree\">强</span>\n            </div>\n          </a-form-item>\n          <a-form-item label=\"确认密码\">\n            <a-input\n              placeholder=\"确认密码\"\n              type=\"password\"\n              autocomplete=\"false\"\n              v-decorator=\"['password2', {rules: formValidatorRules.password2}]\"\n            />\n          </a-form-item>\n          <a-form-item>\n            <a-button\n              type=\"primary\"\n              :loading=\"passwordLoading\"\n              htmlType=\"submit\"\n              class=\"password-button\"\n            >确定</a-button>\n          </a-form-item>\n        </a-form>\n      </a-col>\n    </a-row>\n  </div>\n</template>\n\n<script>\nimport { updatePwd } from '@/api/system'\nimport pick from 'lodash.pick'\n\nexport default {\n  data() {\n    return {\n      passwordUpdate: false,\n      passwordLoading: false,\n      passwordStatus: false,\n      strengthOne: 'password-weak',\n      strengthTwo: 'password-normal',\n      strengthThree: 'password-normal',\n      form: this.$form.createForm(this),\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 5 }\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 16 }\n      },\n      formValidatorRules: {\n        userName: [{ required: true, message: '请输入用户名' }],\n        oldPassword: [{ required: true, min: 6, max: 16, message: '请输入6到16位密码,区分大小写' }],\n        password: [\n          { required: true, min: 6, max: 16, message: '请输入6到16位密码,区分大小写' },\n          { validator: this.validatorPwdStrength }\n        ],\n        password2: [\n          { required: true, min: 6, max: 16, message: '请输入6到16位密码,区分大小写' },\n          { validator: this.validatorPassword2 }\n        ]\n      },\n      data: [\n        {\n          title: '账户密码',\n          description: '用户密码设置',\n          value: '',\n          actions: {\n            title: '修改',\n            callback: () => {\n              this.passwordUpdate = !this.passwordUpdate\n              this.$nextTick(() => {\n                this.form.setFieldsValue(pick(this.userInfo, 'userId', 'userName'))\n              })\n            }\n          }\n        }\n        // { title: '密保手机', description: '已绑定手机', value: '138****8293', actions: { title: '修改', callback: () => { this.$message.success('This is a message of success') } } },\n        // { title: '密保问题', description: '未设置密保问题，密保问题可有效保护账户安全', value: '', actions: { title: '设置', callback: () => { this.$message.error('This is a message of error') } } },\n        // { title: '备用邮箱', description: '已绑定邮箱', value: 'ant***sign.com', actions: { title: '修改', callback: () => { this.$message.warning('This is message of warning') } } }\n        // { title: 'MFA 设备', description: '未绑定 MFA 设备，绑定后，可以进行二次确认', value: '', actions: { title: '绑定', callback: () => { this.$message.info('This is a normal message') } } }\n      ]\n    }\n  },\n  created() {},\n  computed: {\n    userInfo() {\n      return this.$store.getters.userInfo\n    }\n  },\n  methods: {\n    validatorPwdStrength(rule, value, callback) {\n      // 密码长度大于等于8位数 包含大写字母[A-Z] + 小写字母[a-z] + 数字[0-9] + 非单词字符的特殊字符[标点符号，空格等]\n      const strongRegex = new RegExp('^(?=.{8,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\\\W).*$', 'g') // 强\n      // 密码长度大于等于7位数 大写字母[A-Z] + 小写字母[a-z] 或者 大写字母[A-Z] + 数字[0-9] 或者 小写字母[a-z] + 数字[0-9] + 任意字符 结尾\n      const mediumRegex = new RegExp('^(?=.{7,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[0-9]))).*$', 'g') // 中\n      // 大于等于6位 任何字符或者数字 (如果达不到这个条件就是弱)\n      const enoughRegex = new RegExp('(?=.{6,}).*', 'g') // 弱\n      if (strongRegex.test(value)) {\n        this.strengthOne = 'password-strong'\n        this.strengthTwo = 'password-strong'\n        this.strengthThree = 'password-strong'\n      } else if (mediumRegex.test(value)) {\n        this.strengthOne = 'password-middle'\n        this.strengthTwo = 'password-middle'\n        this.strengthThree = 'password-normal'\n      } else {\n        this.strengthOne = 'password-weak'\n        this.strengthTwo = 'password-normal'\n        this.strengthThree = 'password-normal'\n      }\n      if (value.length >= 6 && value.length <= 16) {\n        this.passwordStatus = true\n      } else {\n        this.passwordStatus = false\n      }\n      callback()\n    },\n    validatorPassword2(rule, value, callback) {\n      const password = this.form.getFieldValue('password')\n      if (value && password && value.length >= 6 && value.length <= 16 && value.trim() !== password.trim()) {\n        callback(new Error('两次密码不一致'))\n      }\n      callback()\n    },\n    passwordClick() {\n      this.passwordUpdate = !this.passwordUpdate\n      this.$nextTick(() => {\n        this.form.setFieldsValue(pick(this.userInfo, 'userId', 'userName'))\n      })\n    },\n    handleSubmit(e) {\n      e.preventDefault()\n      const {\n        form: { validateFields }\n      } = this\n      validateFields((err, values) => {\n        if (!err) {\n          const self = this\n          this.$confirm({\n            title: '确定要修改密码?',\n            onOk() {\n              self.passwordLoading = true\n              updatePwd(values)\n                .then(res => {\n                  if (res.code === 0) {\n                    self.$message.success(`${values.userName} ` + '修改密码成功')\n                    // this.$emit('ok')\n                    self.visible = false\n                    self.passwordUpdate = false\n                  } else {\n                    self.$message.error(res.msg)\n                  }\n                })\n                .catch(() => {\n                  self.$message.error('系统错误，请稍后再试')\n                })\n                .finally(() => {\n                  self.passwordLoading = false\n                })\n            },\n            onCancel() {}\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.password-strength {\n  margin-top: 8px;\n  .strength-label {\n    margin-right: 8px;\n  }\n  .strength-box {\n    display: inline-block;\n    text-align: center;\n    font-size: 12px;\n    margin: 0 3px;\n    width: 70px;\n    height: 16px;\n    line-height: 16px;\n    background-color: #dedcdc;\n    color: #fff;\n  }\n  .password-weak {\n    background: #ce4d1b;\n  }\n  .password-middle {\n    background: #efc21f;\n  }\n  .password-strong {\n    background: #1fbfef;\n  }\n  .password-normal {\n    background: #dedcdc;\n  }\n}\n\n.a-actions {\n  user-select: none;\n}\n.password-button {\n  margin: 0 auto;\n}\n</style>\n"]}]}