{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/MultiTab/MultiTab.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/MultiTab/MultiTab.vue","mtime":1605568762410},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBldmVudHMgZnJvbSAnLi9ldmVudHMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ011bHRpVGFiJywKICBwcm9wczogewogICAgY3VycmVudFRvcE1lbnU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7IH0KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICBjb25zdCBjdXJUb3BNZW51ID0gewogICAgICBmdWxsUGF0aDogdGhpcy5jdXJyZW50VG9wTWVudS5jb21wb25lbnQsCiAgICAgIG5hbWU6IHRoaXMuY3VycmVudFRvcE1lbnUuY29kZSwKICAgICAgbWV0YTogeyB0aXRsZTogdGhpcy5jdXJyZW50VG9wTWVudS5zb3VyY2UgfSwKICAgICAgY2xvc2FibGU6IGZhbHNlCiAgICB9CiAgICByZXR1cm4gewogICAgICBmdWxsUGF0aExpc3Q6IFtdLAogICAgICBwYWdlczogW10sCiAgICAgIGFjdGl2ZUtleTogJycsCiAgICAgIG5ld1RhYkluZGV4OiAwLAogICAgICBpbmRleFBhZ2U6IGN1clRvcE1lbnUKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyBiaW5kIGV2ZW50CiAgICBldmVudHMKICAgICAgLiRvbignb3BlbicsIHZhbCA9PiB7CiAgICAgICAgaWYgKCF2YWwpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbXVsdGktdGFiOiBvcGVuIHRhYiAke3ZhbH0gZXJyYCkKICAgICAgICB9CiAgICAgICAgdGhpcy5hY3RpdmVLZXkgPSB2YWwKICAgICAgfSkKICAgICAgLiRvbignY2xvc2UnLCB2YWwgPT4gewogICAgICAgIGlmICghdmFsKSB7CiAgICAgICAgICB0aGlzLmNsb3NlVGhhdCh0aGlzLmFjdGl2ZUtleSkKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICB0aGlzLmNsb3NlVGhhdCh2YWwpCiAgICAgIH0pCgogICAgaWYgKHRoaXMuJHJvdXRlLnBhdGggIT09IHRoaXMuaW5kZXhQYWdlLmZ1bGxQYXRoKSB7CiAgICAgIHRoaXMucGFnZXMucHVzaCh0aGlzLmluZGV4UGFnZSkKICAgICAgdGhpcy5mdWxsUGF0aExpc3QucHVzaCh0aGlzLmluZGV4UGFnZS5mdWxsUGF0aCkKICAgIH0KCiAgICB0aGlzLnBhZ2VzLnB1c2godGhpcy4kcm91dGUpCiAgICB0aGlzLmZ1bGxQYXRoTGlzdC5wdXNoKHRoaXMuJHJvdXRlLmZ1bGxQYXRoKQogICAgdGhpcy5zZWxlY3RlZExhc3RQYXRoKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uRWRpdCh0YXJnZXRLZXksIGFjdGlvbikgewogICAgICB0aGlzW2FjdGlvbl0odGFyZ2V0S2V5KQogICAgfSwKICAgIHJlbW92ZSh0YXJnZXRLZXkpIHsKICAgICAgdGhpcy5wYWdlcyA9IHRoaXMucGFnZXMuZmlsdGVyKHBhZ2UgPT4gcGFnZS5mdWxsUGF0aCAhPT0gdGFyZ2V0S2V5KQogICAgICB0aGlzLmZ1bGxQYXRoTGlzdCA9IHRoaXMuZnVsbFBhdGhMaXN0LmZpbHRlcihwYXRoID0+IHBhdGggIT09IHRhcmdldEtleSkKICAgICAgLy8g5Yik5pat5b2T5YmN5qCH562+5piv5ZCm5YWz6Zet77yM6Iul5YWz6Zet5YiZ6Lez6L2s5Yiw5pyA5ZCO5LiA5Liq6L+Y5a2Y5Zyo55qE5qCH562+6aG1CiAgICAgIGlmICghdGhpcy5mdWxsUGF0aExpc3QuaW5jbHVkZXModGhpcy5hY3RpdmVLZXkpKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZExhc3RQYXRoKCkKICAgICAgfQogICAgfSwKICAgIHNlbGVjdGVkTGFzdFBhdGgoKSB7CiAgICAgIHRoaXMuYWN0aXZlS2V5ID0gdGhpcy5mdWxsUGF0aExpc3RbdGhpcy5mdWxsUGF0aExpc3QubGVuZ3RoIC0gMV0KICAgIH0sCgogICAgLy8gY29udGVudCBtZW51CiAgICBjbG9zZVRoYXQoZSkgewogICAgICAvLyDliKTmlq3mmK/lkKbkuLrmnIDlkI7kuIDkuKrmoIfnrb7pobXvvIzlpoLmnpzmmK/mnIDlkI7kuIDkuKrvvIzliJnml6Dms5XooqvlhbPpl60KICAgICAgaWYgKHRoaXMuZnVsbFBhdGhMaXN0Lmxlbmd0aCA+IDEpIHsKICAgICAgICBpZiAoZSAhPT0gdGhpcy5pbmRleFBhZ2UuZnVsbFBhdGgpIHsKICAgICAgICAgIHRoaXMucmVtb3ZlKGUpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygn6L+Z5piv6aaW6aG1LCDml6Dms5XooqvlhbPpl60nKQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+i/meaYr+acgOWQjuS4gOS4quagh+etvuS6hiwg5peg5rOV6KKr5YWz6ZetJykKICAgICAgfQogICAgfSwKICAgIGNsb3NlTGVmdChlKSB7CiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMuZnVsbFBhdGhMaXN0LmluZGV4T2YoZSkKICAgICAgaWYgKGN1cnJlbnRJbmRleCA+IDApIHsKICAgICAgICBpZiAoY3VycmVudEluZGV4ID09PSAxICYmIHRoaXMuZnVsbFBhdGhMaXN0WzBdID09PSB0aGlzLmluZGV4UGFnZS5mdWxsUGF0aCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCflt6bkvqfmsqHmnInmoIfnrb4nKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmZ1bGxQYXRoTGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgICBpZiAoaW5kZXggPCBjdXJyZW50SW5kZXgpIHsKICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gdGhpcy5pbmRleFBhZ2UuZnVsbFBhdGgpIHsKICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKGl0ZW0pCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+W3puS+p+ayoeacieagh+etvicpCiAgICAgIH0KICAgIH0sCiAgICBjbG9zZVJpZ2h0KGUpIHsKICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gdGhpcy5mdWxsUGF0aExpc3QuaW5kZXhPZihlKQogICAgICBpZiAoY3VycmVudEluZGV4IDwgdGhpcy5mdWxsUGF0aExpc3QubGVuZ3RoIC0gMSkgewogICAgICAgIHRoaXMuZnVsbFBhdGhMaXN0LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgICBpZiAoaW5kZXggPiBjdXJyZW50SW5kZXgpIHsKICAgICAgICAgICAgaWYgKGl0ZW0gIT09IHRoaXMuaW5kZXhQYWdlLmZ1bGxQYXRoKSB7CiAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoaXRlbSkKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCflj7PkvqfmsqHmnInmoIfnrb4nKQogICAgICB9CiAgICB9LAogICAgY2xvc2VPdGhlcihlKSB7CiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMuZnVsbFBhdGhMaXN0LmluZGV4T2YoZSkKICAgICAgdGhpcy5mdWxsUGF0aExpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBpZiAoaW5kZXggIT09IGN1cnJlbnRJbmRleCAmJiBpdGVtICE9PSB0aGlzLmluZGV4UGFnZS5mdWxsUGF0aCkgewogICAgICAgICAgdGhpcy5yZW1vdmUoaXRlbSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgY2xvc2VBbGwoKSB7CiAgICAgIC8vIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMuZnVsbFBhdGhMaXN0LmluZGV4T2YoZSkKICAgICAgdGhpcy5mdWxsUGF0aExpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBpZiAoaXRlbSAhPT0gdGhpcy5pbmRleFBhZ2UuZnVsbFBhdGgpIHsKICAgICAgICAgIHRoaXMucmVtb3ZlKGl0ZW0pCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGNsb3NlTWVudUNsaWNrKGtleSwgcm91dGUpIHsKICAgICAgdGhpc1trZXldKHJvdXRlKQogICAgfSwKICAgIHJlbmRlclRhYlBhbmVNZW51KGUpIHsKICAgICAgcmV0dXJuICgKICAgICAgICA8YS1tZW51CiAgICAgICAgICB7Li4uewogICAgICAgICAgICBvbjogewogICAgICAgICAgICAgIGNsaWNrOiAoeyBrZXksIGl0ZW0sIGRvbUV2ZW50IH0pID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VNZW51Q2xpY2soa2V5LCBlKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfX0KICAgICAgICA+CiAgICAgICAgICA8YS1tZW51LWl0ZW0ga2V5PSJjbG9zZVRoYXQiPuWFs+mXreW9k+WJjeagh+etvjwvYS1tZW51LWl0ZW0+CiAgICAgICAgICA8YS1tZW51LWl0ZW0ga2V5PSJjbG9zZVJpZ2h0Ij7lhbPpl63lj7Pkvqc8L2EtbWVudS1pdGVtPgogICAgICAgICAgPGEtbWVudS1pdGVtIGtleT0iY2xvc2VMZWZ0Ij7lhbPpl63lt6bkvqc8L2EtbWVudS1pdGVtPgogICAgICAgICAgPGEtbWVudS1pdGVtIGtleT0iY2xvc2VPdGhlciI+5YWz6Zet5YW25a6DPC9hLW1lbnUtaXRlbT4KICAgICAgICAgIDxhLW1lbnUtaXRlbSBrZXk9ImNsb3NlQWxsIj7lhbPpl63lhajpg6g8L2EtbWVudS1pdGVtPgogICAgICAgIDwvYS1tZW51PgogICAgICApCiAgICB9LAogICAgLy8gcmVuZGVyCiAgICByZW5kZXJUYWJQYW5lKHRpdGxlLCBrZXlQYXRoKSB7CiAgICAgIGNvbnN0IG1lbnUgPSB0aGlzLnJlbmRlclRhYlBhbmVNZW51KGtleVBhdGgpCgogICAgICByZXR1cm4gKAogICAgICAgIDxhLWRyb3Bkb3duIG92ZXJsYXk9e21lbnV9IHRyaWdnZXI9e1snY29udGV4dG1lbnUnXX0+CiAgICAgICAgICA8c3BhbiBzdHlsZT17eyB1c2VyU2VsZWN0OiAnbm9uZScgfX0+e3RpdGxlfTwvc3Bhbj4KICAgICAgICA8L2EtZHJvcGRvd24+CiAgICAgICkKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IGZ1bmN0aW9uIChuZXdWYWwpIHsKICAgICAgdGhpcy5hY3RpdmVLZXkgPSBuZXdWYWwuZnVsbFBhdGgKICAgICAgaWYgKHRoaXMuZnVsbFBhdGhMaXN0LmluZGV4T2YobmV3VmFsLmZ1bGxQYXRoKSA8IDApIHsKICAgICAgICB0aGlzLmZ1bGxQYXRoTGlzdC5wdXNoKG5ld1ZhbC5mdWxsUGF0aCkKICAgICAgICAvLyDkvb/mrKLov47pobXkuI3og73lhbPpl60KICAgICAgICBpZiAobmV3VmFsLmZ1bGxQYXRoID09PSB0aGlzLmluZGV4UGFnZS5mdWxsUGF0aCkgewogICAgICAgICAgLy8gbmV3VmFsWydjbG9zYWJsZSddID0gZmFsc2UKICAgICAgICAgIHRoaXMucGFnZXMucHVzaCh7IC4uLm5ld1ZhbCwgY2xvc2FibGU6IGZhbHNlIH0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucGFnZXMucHVzaChuZXdWYWwpCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYWN0aXZlS2V5OiBmdW5jdGlvbiAobmV3UGF0aEtleSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IG5ld1BhdGhLZXkgfSkKICAgIH0sCiAgICBpbmRleFBhZ2U6IGZ1bmN0aW9uIChuZXdJbmRleCkgewogICAgICB0aGlzLmluZGV4UGFnZSA9IG5ld0luZGV4CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogbmV3SW5kZXguZnVsbFBhdGggfSkKICAgICAgdGhpcy5jbG9zZUFsbCgpCiAgICB9CiAgfSwKICByZW5kZXIoKSB7CiAgICBjb25zdCB7CiAgICAgIG9uRWRpdCwKICAgICAgJGRhdGE6IHsgcGFnZXMgfQogICAgfSA9IHRoaXMKICAgIGNvbnN0IHBhbmVzID0gcGFnZXMubWFwKHBhZ2UgPT4gewogICAgICByZXR1cm4gKAogICAgICAgIDxhLXRhYi1wYW5lCiAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6IDAgfX0KICAgICAgICAgIHRhYj17dGhpcy5yZW5kZXJUYWJQYW5lKHBhZ2UubWV0YS50aXRsZSwgcGFnZS5mdWxsUGF0aCl9CiAgICAgICAgICBrZXk9e3BhZ2UuZnVsbFBhdGh9CiAgICAgICAgICBjbG9zYWJsZT17IShwYWdlcy5sZW5ndGggPD0gMSB8fCAocGFnZS5jbG9zYWJsZSAhPT0gdW5kZWZpbmVkICYmICFwYWdlLmNsb3NhYmxlKSl9CiAgICAgICAgPjwvYS10YWItcGFuZT4KICAgICAgKQogICAgfSkKCiAgICByZXR1cm4gKAogICAgICA8ZGl2IGNsYXNzPSJhbnQtcHJvLW11bHRpLXRhYiI+CiAgICAgICAgPGRpdiBjbGFzcz0iYW50LXByby1tdWx0aS10YWItd3JhcHBlciI+CiAgICAgICAgICA8YS10YWJzCiAgICAgICAgICAgIGhpZGVBZGQKICAgICAgICAgICAgdHlwZT17J2VkaXRhYmxlLWNhcmQnfQogICAgICAgICAgICB2LW1vZGVsPXt0aGlzLmFjdGl2ZUtleX0KICAgICAgICAgICAgdGFiQmFyU3R5bGU9e3sgbWFyZ2luOiAwLCBwYWRkaW5nTGVmdDogJzJweCcsIHBhZGRpbmdUb3A6ICcxcHgnIH19CiAgICAgICAgICAgIHsuLi57IG9uOiB7IGVkaXQ6IG9uRWRpdCB9IH19CiAgICAgICAgICA+CiAgICAgICAgICAgIHtwYW5lc30KICAgICAgICAgIDwvYS10YWJzPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICkKICB9Cn0K"},{"version":3,"sources":["MultiTab.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MultiTab.vue","sourceRoot":"src/components/MultiTab","sourcesContent":["<script>\nimport events from './events'\n\nexport default {\n  name: 'MultiTab',\n  props: {\n    currentTopMenu: {\n      type: Object,\n      default: () => { }\n    }\n  },\n  data() {\n    const curTopMenu = {\n      fullPath: this.currentTopMenu.component,\n      name: this.currentTopMenu.code,\n      meta: { title: this.currentTopMenu.source },\n      closable: false\n    }\n    return {\n      fullPathList: [],\n      pages: [],\n      activeKey: '',\n      newTabIndex: 0,\n      indexPage: curTopMenu\n    }\n  },\n  created() {\n    // bind event\n    events\n      .$on('open', val => {\n        if (!val) {\n          throw new Error(`multi-tab: open tab ${val} err`)\n        }\n        this.activeKey = val\n      })\n      .$on('close', val => {\n        if (!val) {\n          this.closeThat(this.activeKey)\n          return\n        }\n        this.closeThat(val)\n      })\n\n    if (this.$route.path !== this.indexPage.fullPath) {\n      this.pages.push(this.indexPage)\n      this.fullPathList.push(this.indexPage.fullPath)\n    }\n\n    this.pages.push(this.$route)\n    this.fullPathList.push(this.$route.fullPath)\n    this.selectedLastPath()\n  },\n  methods: {\n    onEdit(targetKey, action) {\n      this[action](targetKey)\n    },\n    remove(targetKey) {\n      this.pages = this.pages.filter(page => page.fullPath !== targetKey)\n      this.fullPathList = this.fullPathList.filter(path => path !== targetKey)\n      // 判断当前标签是否关闭，若关闭则跳转到最后一个还存在的标签页\n      if (!this.fullPathList.includes(this.activeKey)) {\n        this.selectedLastPath()\n      }\n    },\n    selectedLastPath() {\n      this.activeKey = this.fullPathList[this.fullPathList.length - 1]\n    },\n\n    // content menu\n    closeThat(e) {\n      // 判断是否为最后一个标签页，如果是最后一个，则无法被关闭\n      if (this.fullPathList.length > 1) {\n        if (e !== this.indexPage.fullPath) {\n          this.remove(e)\n        } else {\n          this.$message.info('这是首页, 无法被关闭')\n        }\n      } else {\n        this.$message.info('这是最后一个标签了, 无法被关闭')\n      }\n    },\n    closeLeft(e) {\n      const currentIndex = this.fullPathList.indexOf(e)\n      if (currentIndex > 0) {\n        if (currentIndex === 1 && this.fullPathList[0] === this.indexPage.fullPath) {\n          this.$message.info('左侧没有标签')\n        } else {\n          this.fullPathList.forEach((item, index) => {\n            if (index < currentIndex) {\n              if (item !== this.indexPage.fullPath) {\n                this.remove(item)\n              }\n            }\n          })\n        }\n      } else {\n        this.$message.info('左侧没有标签')\n      }\n    },\n    closeRight(e) {\n      const currentIndex = this.fullPathList.indexOf(e)\n      if (currentIndex < this.fullPathList.length - 1) {\n        this.fullPathList.forEach((item, index) => {\n          if (index > currentIndex) {\n            if (item !== this.indexPage.fullPath) {\n              this.remove(item)\n            }\n          }\n        })\n      } else {\n        this.$message.info('右侧没有标签')\n      }\n    },\n    closeOther(e) {\n      const currentIndex = this.fullPathList.indexOf(e)\n      this.fullPathList.forEach((item, index) => {\n        if (index !== currentIndex && item !== this.indexPage.fullPath) {\n          this.remove(item)\n        }\n      })\n    },\n    closeAll() {\n      // const currentIndex = this.fullPathList.indexOf(e)\n      this.fullPathList.forEach((item, index) => {\n        if (item !== this.indexPage.fullPath) {\n          this.remove(item)\n        }\n      })\n    },\n    closeMenuClick(key, route) {\n      this[key](route)\n    },\n    renderTabPaneMenu(e) {\n      return (\n        <a-menu\n          {...{\n            on: {\n              click: ({ key, item, domEvent }) => {\n                this.closeMenuClick(key, e)\n              }\n            }\n          }}\n        >\n          <a-menu-item key=\"closeThat\">关闭当前标签</a-menu-item>\n          <a-menu-item key=\"closeRight\">关闭右侧</a-menu-item>\n          <a-menu-item key=\"closeLeft\">关闭左侧</a-menu-item>\n          <a-menu-item key=\"closeOther\">关闭其它</a-menu-item>\n          <a-menu-item key=\"closeAll\">关闭全部</a-menu-item>\n        </a-menu>\n      )\n    },\n    // render\n    renderTabPane(title, keyPath) {\n      const menu = this.renderTabPaneMenu(keyPath)\n\n      return (\n        <a-dropdown overlay={menu} trigger={['contextmenu']}>\n          <span style={{ userSelect: 'none' }}>{title}</span>\n        </a-dropdown>\n      )\n    }\n  },\n  watch: {\n    $route: function (newVal) {\n      this.activeKey = newVal.fullPath\n      if (this.fullPathList.indexOf(newVal.fullPath) < 0) {\n        this.fullPathList.push(newVal.fullPath)\n        // 使欢迎页不能关闭\n        if (newVal.fullPath === this.indexPage.fullPath) {\n          // newVal['closable'] = false\n          this.pages.push({ ...newVal, closable: false })\n        } else {\n          this.pages.push(newVal)\n        }\n      }\n    },\n    activeKey: function (newPathKey) {\n      this.$router.push({ path: newPathKey })\n    },\n    indexPage: function (newIndex) {\n      this.indexPage = newIndex\n      this.$router.push({ path: newIndex.fullPath })\n      this.closeAll()\n    }\n  },\n  render() {\n    const {\n      onEdit,\n      $data: { pages }\n    } = this\n    const panes = pages.map(page => {\n      return (\n        <a-tab-pane\n          style={{ height: 0 }}\n          tab={this.renderTabPane(page.meta.title, page.fullPath)}\n          key={page.fullPath}\n          closable={!(pages.length <= 1 || (page.closable !== undefined && !page.closable))}\n        ></a-tab-pane>\n      )\n    })\n\n    return (\n      <div class=\"ant-pro-multi-tab\">\n        <div class=\"ant-pro-multi-tab-wrapper\">\n          <a-tabs\n            hideAdd\n            type={'editable-card'}\n            v-model={this.activeKey}\n            tabBarStyle={{ margin: 0, paddingLeft: '2px', paddingTop: '1px' }}\n            {...{ on: { edit: onEdit } }}\n          >\n            {panes}\n          </a-tabs>\n        </div>\n      </div>\n    )\n  }\n}\n</script>\n"]}]}