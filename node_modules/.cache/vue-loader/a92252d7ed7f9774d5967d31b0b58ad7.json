{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/pts/WebShell/terminal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/pts/WebShell/terminal.vue","mtime":1605568762427},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovCmltcG9ydCB7IFRlcm1pbmFsIH0gZnJvbSAneHRlcm0nCmltcG9ydCB7IEZpdEFkZG9uIH0gZnJvbSAneHRlcm0tYWRkb24tZml0JwppbXBvcnQgJ3h0ZXJtL2Nzcy94dGVybS5jc3MnCmltcG9ydCAneHRlcm0vbGliL3h0ZXJtLmpzJwppbXBvcnQgeyBjcmVhdGVVdWlkIH0gZnJvbSAnQC91dGlscy91dGlsJwppbXBvcnQgY2xpZW50IGZyb20gJy4vd2Vic3NoLmpzJwoKLyogZXNsaW50LWRpc2FibGUgKi8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdXZWJTaGVsbFRlcm1pbmFsJywKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczogewogICAgc2hvd0RyYXdlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGRyYXdlcldpZHRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzE2NXB4JwogICAgfSwKICAgIHRlcm1EYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4ge30KICAgIH0sCiAgICB0ZXJtTmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdXZWJTaGVsbCcKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0ZXJtOiAnJywKICAgICAgdXVpZDogJycKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7fSwKICB3YXRjaDogewogICAgLy8gdGVybURhdGE6IHsKICAgIC8vICAgaGFuZGxlcjogZnVuY3Rpb24odmFsLCBvbGRWYWwpIHsKICAgIC8vICAgICB0aGlzLmhhbmRsZUNvbm5lY3QodmFsKQogICAgLy8gICB9LAogICAgLy8gICBkZWVwOiB0cnVlCiAgICAvLyB9CiAgfSwKICBjcmVhdGVkKCkge30sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMudXVpZCA9IGNyZWF0ZVV1aWQoKQogICAgdGhpcy5pbml0VGVybSh0aGlzLnV1aWQpCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgY2xpZW50LmNsb3NlKHRoaXMudXVpZCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRUZXJtKHV1aWQpIHsKICAgICAgY29uc3QgX3RoaXMgPSB0aGlzCiAgICAgIC8vIOiOt+WPluWuueWZqOWuvemrmC/lrZflj7flpKflsI/vvIzlrprkuYnooYzmlbDlkozliJfmlbAKICAgICAgLy8gY29uc3QgdGVybWluYWxDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVybWluYWwnKQogICAgICBjb25zdCB0ZXJtaW5hbENvbnRhaW5lciA9IHRoaXMuJHJlZnMudGVybWluYWwKICAgICAgLy8gY29uc3Qgcm93cyA9ICh0ZXJtaW5hbENvbnRhaW5lci5vZmZzZXRIZWlnaHQpIC8gMTY7CiAgICAgIC8vIHRoaXMuY29scyA9IHRlcm1pbmFsQ29udGFpbmVyLm9mZnNldFdpZHRoIC8gMTQ7CiAgICAgIC8vIOWIm+W7unh0ZXJt5a6e5L6LCiAgICAgIGxldCB0ZXJtID0gbmV3IFRlcm1pbmFsKHsKICAgICAgICByZW5kZXJlclR5cGU6ICdkb20nLAogICAgICAgIC8vIGNvbHM6IDEyMCwKICAgICAgICAvLyByb3dzOiBwYXJzZUludChyb3dzKSwKICAgICAgICBjb252ZXJ0RW9sOiB0cnVlLCAvLyDlkK/nlKjml7bvvIzlhYnmoIflsIborr7nva7kuLrkuIvkuIDooYznmoTlvIDlpLQKICAgICAgICAvLyBzY3JvbGxiYWNrOiA1MCwgLy8g57uI56uv5Lit55qE5Zue5rua6YePCiAgICAgICAgZGlzYWJsZVN0ZGluOiBmYWxzZSwgLy8g5piv5ZCm5bqU56aB55So6L6T5YWl44CCCiAgICAgICAgY3Vyc29yU3R5bGU6ICd1bmRlcmxpbmUnLCAvLyDlhYnmoIfmoLflvI8gIG51bGwgfCAnYmxvY2snIHwgJ3VuZGVybGluZScgfCAnYmFyJwogICAgICAgIGN1cnNvckJsaW5rOiB0cnVlLCAvLyDlhYnmoIfpl6rng4EKICAgICAgICB0YWJTdG9wV2lkdGg6IDgsIC8vIOWItuihqOWuveW6pgogICAgICAgIHRoZW1lOiB7CiAgICAgICAgICAvLyBmb3JlZ3JvdW5kOiAnIzdlOTE5MicsIC8vIOWtl+S9kwogICAgICAgICAgYmFja2dyb3VuZDogJyMyYjJiMmInLCAvLyDog4zmma/oibIKICAgICAgICAgIGN1cnNvcjogJ2hlbHAnLCAvLyDorr7nva7lhYnmoIcKICAgICAgICAgIGxpbmVIZWlnaHQ6IDMwLAogICAgICAgICAgZm9yZWdyb3VuZDogJyNkYmRiZGInCiAgICAgICAgfQogICAgICB9KSAvLyDliJvlu7rkuIDkuKrmlrDnmoRUZXJtaW5hbOWvueixoQogICAgICB0ZXJtLm9wZW4odGVybWluYWxDb250YWluZXIpIC8vIOWwhnRlcm3mjILovb3liLBkb23oioLngrnkuIoKICAgICAgLy8g5o2i6KGM5bm26L6T5YWl6LW35aeL56ym4oCcJOKAnQogICAgICB0ZXJtLnByb21wdCA9ICgpID0+IHsKICAgICAgICAvLyB0ZXJtLndyaXRlKCdcclxuJCAnKQogICAgICAgIHRlcm0ud3JpdGUoJyQgJykKICAgICAgfQogICAgICB0ZXJtLnByb21wdCgpCiAgICAgIC8vIGNhbnZhc+iDjOaZr+WFqOWxjwogICAgICBjb25zdCBmaXRBZGRvbiA9IG5ldyBGaXRBZGRvbigpCiAgICAgIHRlcm0ubG9hZEFkZG9uKGZpdEFkZG9uKQogICAgICAvLyBmaXRBZGRvbi5maXQoKQogICAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplU2NyZWVuKQogICAgICAvLyAvLyDlhoXlrrnlhajlsY/mmL7npLoKICAgICAgLy8gZnVuY3Rpb24gcmVzaXplU2NyZWVuKCkgewogICAgICAvLyAgIC8vIOS4jeS8oHNpemUKICAgICAgLy8gICB0cnkgewogICAgICAvLyAgICAgLy8gZml0QWRkb24uZml0KCkKICAgICAgLy8gICAgIC8vIOeql+WPo+Wkp+Wwj+aUueWPmOaXtuinpuWPkXh0ZXJt55qEcmVzaXpl5pa55rOV77yM5ZCR5ZCO56uv5Y+R6YCB6KGM5YiX5pWw77yM5qC85byP55Sx5ZCO56uv5Yaz5a6aCiAgICAgIC8vICAgICAvLyDov5nph4zkuI3kvb/nlKhzaXpl6buY6K6k5Y+C5pWw77yM5Zug5Li65pS55Y+Y56qX5Y+j5aSn5bCP5Y+q5Lya5pS55Y+Yc2l6ZeS4reeahOWIl+aVsOiAjOS4jeiDveaUueWPmOihjOaVsO+8jOaJgOS7pei/memHjOS4jeS9v+eUqHNpemUuY2xvcyzogIznm7TmjqXkvb/nlKjojrflj5bmiJHku6zmoLnmja7nqpflj6PlpKflsI/orqHnrpflh7rmnaXnmoTooYzliJfmlbAKICAgICAgLy8gICAgIC8vIHRlcm0ub25SZXNpemUoKCkgPT4gewogICAgICAvLyAgICAgLy8gICBjbGllbnQuc2VuZENsaWVudERhdGEoeyBPcDogJ3Jlc2l6ZScsIENvbHM6IHRlcm0uY29scywgUm93czogdGVybS5yb3dzIH0pCiAgICAgIC8vICAgICAvLyB9KQogICAgICAvLyAgIH0gY2F0Y2ggKGUpIHsKICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdlJywgZS5tZXNzYWdlKQogICAgICAvLyAgIH0KICAgICAgLy8gfQoKICAgICAgZnVuY3Rpb24gcnVuRmFrZVRlcm1pbmFsKF90aGlzKSB7CiAgICAgICAgaWYgKHRlcm0uX2luaXRpYWxpemVkKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgLy8g5Yid5aeL5YyWCiAgICAgICAgdGVybS5faW5pdGlhbGl6ZWQgPSB0cnVlCgogICAgICAgIHRlcm0ud3JpdGVsbihgV2VsY29tZSB0byB1c2UgXHgxQlsxOzM7MzFtJHtfdGhpcy50ZXJtTmFtZX0gXHgxQlswbS4gYCkKCiAgICAgICAgdGVybS5wcm9tcHQoKQogICAgICAgIC8v5omn6KGM6L+e5o6l5pON5L2cCiAgICAgICAgY2xpZW50LmNvbm5lY3QoewogICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgLy/ov57mjqXlpLHotKXlm57osIMKICAgICAgICAgICAgdGVybS53cml0ZSgnRXJyb3I6ICcgKyBlcnJvciArICdcclxuJykKICAgICAgICAgIH0sCiAgICAgICAgICBvbkNvbm5lY3Q6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAvL+i/nuaOpeaIkOWKn+WbnuiwgwogICAgICAgICAgICBfdGhpcy5oYW5kbGVDb25uZWN0KF90aGlzLnRlcm1EYXRhKQogICAgICAgICAgfSwKICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAvL+i/nuaOpeWFs+mXreWbnuiwgwogICAgICAgICAgICB0ZXJtLndyaXRlKCdcclxuJykKICAgICAgICAgICAgdGVybS53cml0ZSgnY29ubmVjdGlvbiBjbG9zZWQnKQogICAgICAgICAgICB0ZXJtLndyaXRlKCdcclxuJykKICAgICAgICAgIH0sCiAgICAgICAgICBvbkRhdGE6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgICAgLy/mlLbliLDmlbDmja7ml7blm57osIMKICAgICAgICAgICAgdGVybS53cml0ZShkYXRhKQogICAgICAgICAgICBpZiAoZGF0YSA9PT0gJ2V4aXQnKSB7CiAgICAgICAgICAgICAgdGVybS53cml0ZSgnXHJcbicpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCB1dWlkKQogICAgICAgIC8vIC8gKioKICAgICAgICAvLyAgICAgKua3u+WKoOS6i+S7tuebkeWQrOWZqO+8jOeUqOS6juaMieS4i+mUruaXtueahOS6i+S7tuOAguS6i+S7tuWAvOWMheWQqwogICAgICAgIC8vICAgICAq5bCG5ZyoZGF0YeS6i+S7tuS7peWPikRPTeS6i+S7tuS4reWPkemAgeeahOWtl+espuS4sgogICAgICAgIC8vICAgICAq6Kem5Y+R5LqG5a6D44CCCiAgICAgICAgLy8gICAgICogQOi/lOWbnuS4gOS4qklEaXNwb3NhYmxl5YGc5q2i55uR5ZCs44CCCiAgICAgICAgLy8gICogLwogICAgICAgIC8vICAgLyAqKiDmm7TmlrDvvJp4dGVybSA0LnjvvIjmlrDlop7vvIkKICAgICAgICAvLyAgKuS4uuaVsOaNruS6i+S7tuinpuWPkeaXtua3u+WKoOS6i+S7tuS+puWQrOWZqOOAguWPkeeUn+i/meenjeaDheWGtQogICAgICAgIC8vICAq55So5oi36L6T5YWl5oiW57KY6LS05Yiw57uI56uv5pe255qE56S65L6L44CC5LqL5Lu25YC8CiAgICAgICAgLy8gICrmmK9gc3RyaW5nYOe7k+aenOeahOe7k+aenO+8jOWcqOWFuOWei+eahOiuvue9ruS4re+8jOW6lOivpemAmui/hwogICAgICAgIC8vICAq5Yiw5pSv5oyBcHR544CCCiAgICAgICAgLy8gICogQOi/lOWbnuS4gOS4qklEaXNwb3NhYmxl5YGc5q2i55uR5ZCs44CCCiAgICAgICAgLy8gICogLwogICAgICAgIC8vIOaUr+aMgei+k+WFpeS4jueymOi0tOaWueazlQogICAgICAgIHRlcm0ub25EYXRhKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgIGNsaWVudC5zZW5kQ2xpZW50RGF0YShkYXRhLCB1dWlkKQogICAgICAgIH0pCgogICAgICAgIF90aGlzLnRlcm0gPSB0ZXJtCiAgICAgIH0KICAgICAgcnVuRmFrZVRlcm1pbmFsKF90aGlzKQogICAgfSwKICAgIGhhbmRsZUNvbm5lY3QodmFsdWVzKSB7CiAgICAgIGlmICh2YWx1ZXMgJiYgdmFsdWVzLmlwICYmIHZhbHVlcy5wb3J0ICYmIHZhbHVlcy51c2VybmFtZSAmJiB2YWx1ZXMucGFzc3dvcmQpIHsKICAgICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgICBob3N0OiB2YWx1ZXMuaXAsCiAgICAgICAgICBwb3J0OiB2YWx1ZXMucG9ydCwKICAgICAgICAgIHVzZXJuYW1lOiB2YWx1ZXMudXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdmFsdWVzLnBhc3N3b3JkLAogICAgICAgICAgb3BlcmF0ZTogJ2Nvbm5lY3QnCiAgICAgICAgfQogICAgICAgIC8v5Zyo6aG16Z2i5LiK5pi+56S66L+e5o6l5LitLi4uCiAgICAgICAgdGhpcy50ZXJtLndyaXRlbG4oYENvbm5lY3RpbmcgdG8gJHt2YWx1ZXMuaXB9OiR7dmFsdWVzLnBvcnR9Li4uXHJcbmApCiAgICAgICAgY2xpZW50LnNlbmRJbml0RGF0YShwYXJhbXMsIHRoaXMudXVpZCkKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVNlbmQoZGF0YSkgewogICAgICBjbGllbnQuc2VuZENsaWVudERhdGEoZGF0YSwgdGhpcy51dWlkKQogICAgfSwKICAgIGhhbmRsZUNsb3NlKCkgewogICAgICAvLyBjbGllbnQuY2xvc2UoKQogICAgICB0aGlzLnRlcm0ud3JpdGUoJ1xyXG4nKQogICAgICB0aGlzLnRlcm0ud3JpdGVsbihgZXhpdGluZy4uLmApCiAgICAgIGNsaWVudC5zZW5kQ2xpZW50RGF0YSgnZXhpdCcsIHRoaXMudXVpZCkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["terminal.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"terminal.vue","sourceRoot":"src/components/pts/WebShell","sourcesContent":["<template>\n  <div id=\"terminal\" ref=\"terminal\" :style=\"{ marginLeft: showDrawer ? drawerWidth : '0px' }\"></div>\n</template>\n\n<script>\n/* eslint-disable */\nimport { Terminal } from 'xterm'\nimport { FitAddon } from 'xterm-addon-fit'\nimport 'xterm/css/xterm.css'\nimport 'xterm/lib/xterm.js'\nimport { createUuid } from '@/utils/util'\nimport client from './webssh.js'\n\n/* eslint-disable */\nexport default {\n  name: 'WebShellTerminal',\n  components: {},\n  props: {\n    showDrawer: {\n      type: Boolean,\n      default: false\n    },\n    drawerWidth: {\n      type: String,\n      default: '165px'\n    },\n    termData: {\n      type: Object,\n      default: () => {}\n    },\n    termName: {\n      type: String,\n      default: 'WebShell'\n    }\n  },\n  data() {\n    return {\n      term: '',\n      uuid: ''\n    }\n  },\n  computed: {},\n  watch: {\n    // termData: {\n    //   handler: function(val, oldVal) {\n    //     this.handleConnect(val)\n    //   },\n    //   deep: true\n    // }\n  },\n  created() {},\n  mounted() {\n    this.uuid = createUuid()\n    this.initTerm(this.uuid)\n  },\n  beforeDestroy() {\n    client.close(this.uuid)\n  },\n  methods: {\n    initTerm(uuid) {\n      const _this = this\n      // 获取容器宽高/字号大小，定义行数和列数\n      // const terminalContainer = document.getElementById('terminal')\n      const terminalContainer = this.$refs.terminal\n      // const rows = (terminalContainer.offsetHeight) / 16;\n      // this.cols = terminalContainer.offsetWidth / 14;\n      // 创建xterm实例\n      let term = new Terminal({\n        rendererType: 'dom',\n        // cols: 120,\n        // rows: parseInt(rows),\n        convertEol: true, // 启用时，光标将设置为下一行的开头\n        // scrollback: 50, // 终端中的回滚量\n        disableStdin: false, // 是否应禁用输入。\n        cursorStyle: 'underline', // 光标样式  null | 'block' | 'underline' | 'bar'\n        cursorBlink: true, // 光标闪烁\n        tabStopWidth: 8, // 制表宽度\n        theme: {\n          // foreground: '#7e9192', // 字体\n          background: '#2b2b2b', // 背景色\n          cursor: 'help', // 设置光标\n          lineHeight: 30,\n          foreground: '#dbdbdb'\n        }\n      }) // 创建一个新的Terminal对象\n      term.open(terminalContainer) // 将term挂载到dom节点上\n      // 换行并输入起始符“$”\n      term.prompt = () => {\n        // term.write('\\r\\n$ ')\n        term.write('$ ')\n      }\n      term.prompt()\n      // canvas背景全屏\n      const fitAddon = new FitAddon()\n      term.loadAddon(fitAddon)\n      // fitAddon.fit()\n      // window.addEventListener('resize', resizeScreen)\n      // // 内容全屏显示\n      // function resizeScreen() {\n      //   // 不传size\n      //   try {\n      //     // fitAddon.fit()\n      //     // 窗口大小改变时触发xterm的resize方法，向后端发送行列数，格式由后端决定\n      //     // 这里不使用size默认参数，因为改变窗口大小只会改变size中的列数而不能改变行数，所以这里不使用size.clos,而直接使用获取我们根据窗口大小计算出来的行列数\n      //     // term.onResize(() => {\n      //     //   client.sendClientData({ Op: 'resize', Cols: term.cols, Rows: term.rows })\n      //     // })\n      //   } catch (e) {\n      //     console.log('e', e.message)\n      //   }\n      // }\n\n      function runFakeTerminal(_this) {\n        if (term._initialized) {\n          return\n        }\n        // 初始化\n        term._initialized = true\n\n        term.writeln(`Welcome to use \\x1B[1;3;31m${_this.termName} \\x1B[0m. `)\n\n        term.prompt()\n        //执行连接操作\n        client.connect({\n          onError: function(error) {\n            //连接失败回调\n            term.write('Error: ' + error + '\\r\\n')\n          },\n          onConnect: function() {\n            //连接成功回调\n            _this.handleConnect(_this.termData)\n          },\n          onClose: function() {\n            //连接关闭回调\n            term.write('\\r\\n')\n            term.write('connection closed')\n            term.write('\\r\\n')\n          },\n          onData: function(data) {\n            //收到数据时回调\n            term.write(data)\n            if (data === 'exit') {\n              term.write('\\r\\n')\n            }\n          }\n        }, uuid)\n        // / **\n        //     *添加事件监听器，用于按下键时的事件。事件值包含\n        //     *将在data事件以及DOM事件中发送的字符串\n        //     *触发了它。\n        //     * @返回一个IDisposable停止监听。\n        //  * /\n        //   / ** 更新：xterm 4.x（新增）\n        //  *为数据事件触发时添加事件侦听器。发生这种情况\n        //  *用户输入或粘贴到终端时的示例。事件值\n        //  *是`string`结果的结果，在典型的设置中，应该通过\n        //  *到支持pty。\n        //  * @返回一个IDisposable停止监听。\n        //  * /\n        // 支持输入与粘贴方法\n        term.onData(function(data) {\n          client.sendClientData(data, uuid)\n        })\n\n        _this.term = term\n      }\n      runFakeTerminal(_this)\n    },\n    handleConnect(values) {\n      if (values && values.ip && values.port && values.username && values.password) {\n        const params = {\n          host: values.ip,\n          port: values.port,\n          username: values.username,\n          password: values.password,\n          operate: 'connect'\n        }\n        //在页面上显示连接中...\n        this.term.writeln(`Connecting to ${values.ip}:${values.port}...\\r\\n`)\n        client.sendInitData(params, this.uuid)\n      }\n    },\n    handleSend(data) {\n      client.sendClientData(data, this.uuid)\n    },\n    handleClose() {\n      // client.close()\n      this.term.write('\\r\\n')\n      this.term.writeln(`exiting...`)\n      client.sendClientData('exit', this.uuid)\n    }\n  }\n}\n</script>\n<style lang=\"less\">\n#terminal {\n  transition: all 0.4s ease 0s;\n  position: relative;\n  overflow: hidden;\n  padding: 8px 0;\n}\n#terminal .xterm-viewport::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n\n#terminal .xterm-viewport::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background: #e0e3e7;\n  height: 20px;\n}\n#terminal .xterm-viewport::-webkit-scrollbar-corner {\n  background: #fff;\n}\n#terminal .xterm-viewport::-webkit-scrollbar-track {\n  background-color: transparent;\n}\n\n#terminal .xterm-viewport::-o-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n#terminal .xterm-viewport::-o-scrollbar-thumb {\n  border-radius: 4px;\n  background: #e0e3e7;\n  height: 20px;\n}\n#terminal .xterm-viewport::-o-scrollbar-corner {\n  background: #fff;\n}\n#terminal .xterm-viewport::-o-scrollbar-track {\n  background-color: transparent;\n}\n\n#terminal .xterm-viewport::-moz-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n#terminal .xterm-viewport::-moz-scrollbar-thumb {\n  border-radius: 4px;\n  background: #e0e3e7;\n  height: 20px;\n}\n#terminal .xterm-viewport::-moz-scrollbar-corner {\n  background: #fff;\n}\n#terminal .xterm-viewport::-moz-scrollbar-track {\n  background-color: transparent;\n}\n\n#terminal .xterm-viewport {\n  -ms-scroll-chaining: chained;\n  -ms-overflow-style: none;\n  -ms-content-zooming: zoom;\n  -ms-scroll-rails: none;\n  -ms-content-zoom-limit-min: 100%;\n  -ms-content-zoom-limit-max: 500%;\n  -ms-scroll-snap-type: proximity;\n  -ms-scroll-snap-points-x: snapList(100%, 200%, 300%, 400%, 500%);\n  -ms-overflow-style: none;\n  overflow: auto;\n}\n.xterm {\n  .xterm-screen {\n    width: 100% !important;\n    padding: 0 8px;\n    .xterm-rows {\n      div {\n        width: 100% !important;\n      }\n    }\n  }\n}\n</style>\n"]}]}