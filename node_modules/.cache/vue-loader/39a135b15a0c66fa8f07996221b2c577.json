{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/tools/UserMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/tools/UserMenu.vue","mtime":1605568762429},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOb3RpY2VJY29uIGZyb20gJ0AvY29tcG9uZW50cy9Ob3RpY2VJY29uJwppbXBvcnQgTGFuZ1NlbGVjdCBmcm9tICdAL2NvbXBvbmVudHMvdG9vbHMvTGFuZ1NlbGVjdCcKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1VzZXJNZW51JywKICBwcm9wczogWyd0aGVtZScsICdoYXZlTm90aWNlJywgJ2hlYWRlclR5cGUnXSwKICBjb21wb25lbnRzOiB7CiAgICBMYW5nU2VsZWN0LAogICAgTm90aWNlSWNvbgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZ1bGxzY3JlZW46IGZhbHNlCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ25pY2tuYW1lJywgJ2F2YXRhciddKSwKICAgIGdldEhlYWRlclR5cGU6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuaGVhZGVyVHlwZSA9PT0gJ3BvcnRhbCcgPyAncG9ydGFsQmFzZScgOiAnc2V0dGluZ3MnCiAgICB9LAogICAgZ2V0RnVsbHNjcmVlbkljb246IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuZnVsbHNjcmVlbiA/ICdmdWxsc2NyZWVuLWV4aXQnIDogJ2Z1bGxzY3JlZW4nCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsnTG9nb3V0J10pLAogICAgc2NyZWVuKCkgewogICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50CiAgICAgIGlmICh0aGlzLmZ1bGxzY3JlZW4pIHsKICAgICAgICBpZiAoZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pIHsKICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCkKICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4pIHsKICAgICAgICAgIGRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKQogICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbikgewogICAgICAgICAgZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpCiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKSB7CiAgICAgICAgICBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCkKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4pIHsKICAgICAgICAgIGVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4oKQogICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbikgewogICAgICAgICAgZWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbigpCiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuKSB7CiAgICAgICAgICBlbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuKCkKICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQubXNSZXF1ZXN0RnVsbHNjcmVlbikgewogICAgICAgICAgLy8gSUUxMQogICAgICAgICAgZWxlbWVudC5tc1JlcXVlc3RGdWxsc2NyZWVuKCkKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5mdWxsc2NyZWVuID0gIXRoaXMuZnVsbHNjcmVlbgogICAgfSwKICAgIGhhbmRsZUxvZ291dCgpIHsKICAgICAgdGhpcy4kY29uZmlybSh7CiAgICAgICAgdGl0bGU6ICfmj5DnpLonLAogICAgICAgIGNvbnRlbnQ6ICfnnJ/nmoTopoHms6jplIDnmbvlvZXlkJcgPycsCiAgICAgICAgb25PazogKCkgPT4gewogICAgICAgICAgcmV0dXJuIHRoaXMuTG9nb3V0KHt9KQogICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCkKICAgICAgICAgICAgICB9LCAxNikKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyLm1lc3NhZ2UKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgb25DYW5jZWwoKSB7IH0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["UserMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserMenu.vue","sourceRoot":"src/components/tools","sourcesContent":["<template>\n  <div class=\"user-wrapper\">\n    <div class=\"content-box\">\n      <!-- <a href=\"/portalClient/index\"\n         target=\"_blank\"> -->\n      <router-link :to=\"{ path: '/portalClient/index' }\">\n        <a-tooltip>\n          <template slot=\"title\">门户首页</template>\n          <span class=\"action\">\n            <a-icon type=\"home\"></a-icon>\n            <!-- <img src=\"~@/assets/back.png\" class=\"back-index\"/> -->\n          </span>\n        </a-tooltip>\n      </router-link>\n      <!-- </a> -->\n      <!-- <notice-icon class=\"action\"\n                   v-if=\"!haveNotice\" /> -->\n      <lang-select v-if=\"false\" />\n      <a-tooltip>\n        <template slot=\"title\">全屏显示</template>\n        <span class=\"action\"\n              @click=\"screen\">\n          <a-icon :type=\"getFullscreenIcon\"></a-icon>\n        </span>\n      </a-tooltip>\n      <a-dropdown>\n        <span class=\"action ant-dropdown-link user-dropdown-menu\">\n          <a-avatar class=\"avatar\"\n                    :src=\"avatar\" />\n          <span>{{ nickname }}</span>\n          <img src=\"@/assets/jiantou_03.png\"\n               class=\"user-jiantou\" />\n        </span>\n        <a-menu slot=\"overlay\"\n                :theme=\"theme\"\n                class=\"user-dropdown-menu-wrapper\">\n          <!-- <a-menu-item key=\"0\">\n            <router-link :to=\"{ name: 'center' }\">\n              <a-icon type=\"user\"/>\n              <span>个人中心</span>\n            </router-link>\n          </a-menu-item>-->\n          <a-menu-item key=\"1\">\n            <router-link :to=\"{ name: getHeaderType }\">\n              <a-icon type=\"setting\" />\n              <span>账户设置</span>\n            </router-link>\n          </a-menu-item>\n          <!-- <a-menu-divider/> -->\n          <a-menu-item key=\"3\">\n            <a href=\"javascript:;\"\n               @click=\"handleLogout\">\n              <a-icon type=\"logout\"\n                      style=\"color: #ff6262\" />\n              <span>退出登录</span>\n            </a>\n          </a-menu-item>\n        </a-menu>\n      </a-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NoticeIcon from '@/components/NoticeIcon'\nimport LangSelect from '@/components/tools/LangSelect'\nimport { mapActions, mapGetters } from 'vuex'\n\nexport default {\n  name: 'UserMenu',\n  props: ['theme', 'haveNotice', 'headerType'],\n  components: {\n    LangSelect,\n    NoticeIcon\n  },\n  data() {\n    return {\n      fullscreen: false\n    }\n  },\n  computed: {\n    ...mapGetters(['nickname', 'avatar']),\n    getHeaderType: function () {\n      return this.headerType === 'portal' ? 'portalBase' : 'settings'\n    },\n    getFullscreenIcon: function () {\n      return this.fullscreen ? 'fullscreen-exit' : 'fullscreen'\n    }\n  },\n  methods: {\n    ...mapActions(['Logout']),\n    screen() {\n      const element = document.documentElement\n      if (this.fullscreen) {\n        if (document.exitFullscreen) {\n          document.exitFullscreen()\n        } else if (document.webkitCancelFullScreen) {\n          document.webkitCancelFullScreen()\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen()\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen()\n        }\n      } else {\n        if (element.requestFullscreen) {\n          element.requestFullscreen()\n        } else if (element.webkitRequestFullScreen) {\n          element.webkitRequestFullScreen()\n        } else if (element.mozRequestFullScreen) {\n          element.mozRequestFullScreen()\n        } else if (element.msRequestFullscreen) {\n          // IE11\n          element.msRequestFullscreen()\n        }\n      }\n      this.fullscreen = !this.fullscreen\n    },\n    handleLogout() {\n      this.$confirm({\n        title: '提示',\n        content: '真的要注销登录吗 ?',\n        onOk: () => {\n          return this.Logout({})\n            .then(() => {\n              setTimeout(() => {\n                window.location.reload()\n              }, 16)\n            })\n            .catch(err => {\n              this.$message.error({\n                title: '错误',\n                description: err.message\n              })\n            })\n        },\n        onCancel() { }\n      })\n    }\n  }\n}\n</script>\n<style scoped>\n.user-jiantou {\n  margin-left: 12px;\n  width: 10px;\n}\n</style>\n"]}]}