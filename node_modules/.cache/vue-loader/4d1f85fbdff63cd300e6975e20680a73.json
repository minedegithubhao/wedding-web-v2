{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/pts/TopMenu/VenusTopMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/components/pts/TopMenu/VenusTopMenu.vue","mtime":1605568762425},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qKgogKiAg5L2c6ICF77ya5aea5q2j6LaFCiAqICDmj4/ov7DvvJpWMS4w54mI5pys77yM6K+35Yu/6ZqP5oSP5Lmx5pu05pS557uE5Lu2CiAqICDml6XmnJ/vvJoyMDIw5bm0NeaciDnml6UKICovCmltcG9ydCBOUHJvZ3Jlc3MgZnJvbSAnbnByb2dyZXNzJyAvLyBwcm9ncmVzcyBiYXIKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnCmltcG9ydCB7IENVUlJFTlRfVE9QX01FTlUgfSBmcm9tICdAL3N0b3JlL211dGF0aW9uLXR5cGVzJwppbXBvcnQgeyBnZXRTZXNzaW9uU3RvcmFnZSwgc2V0U2Vzc2lvblN0b3JhZ2UgfSBmcm9tICdAL3V0aWxzL3V0aWwnCmltcG9ydCBwcmVmaXggZnJvbSAnQC9jb25maWcvcHJlZml4JwovLyBpbXBvcnQgU3ViTWVudSBmcm9tICcuL1N1Yk1lbnUnCmltcG9ydCBTTWVudSBmcm9tICcuL1N1Yk1lbnUuanMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1ZlbnVzVG9wTWVudScsCiAgY29tcG9uZW50czogewogICAgU01lbnUKICB9LAogIHByb3BzOiB7CiAgICB0b3BNZW51TGlzdDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10KICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3NpZGVtZW51JwogICAgfSwKICAgIHRoZW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2RhcmsnCiAgICB9LAogICAgc3ViTWVudXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgZGVmYXVsdDogKCkgPT4geyB9CiAgICB9LAogICAgYWxsVG9wTWVudXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgZGVmYXVsdDogKCkgPT4geyB9CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG9wTWVudTogW10sCiAgICAgIHNlbGVjdEtleTogJycKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjdXJyZW50VG9wTWVudTogZnVuY3Rpb24gKCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudG9wTWVudUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoYCR7dGhpcy50b3BNZW51TGlzdFtpXS5pZH1gID09PSBgJHtnZXRTZXNzaW9uU3RvcmFnZShDVVJSRU5UX1RPUF9NRU5VKX1gKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy50b3BNZW51TGlzdFtpXQogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmsqHmnInmib7liLDlr7nlupTnmoTkuLvoj5zljZXpobknKQogICAgICByZXR1cm4ge30KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnRvcE1lbnUgPSB0aGlzLnRvcE1lbnVMaXN0LmZpbHRlcihtZW51ID0+IG1lbnUudmlzaWJsZSA9PT0gJzAnKQogICAgY29uc3QgdG9wID0gdGhpcy5jdXJyZW50VG9wTWVudQogICAgaWYgKHRvcC5sYXlvdXRNb2RlKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdUb2dnbGVMYXlvdXRNb2RlJywgdG9wLmxheW91dE1vZGUpCiAgICB9CiAgICB0aGlzLnNlbGVjdEtleSA9IGdldFNlc3Npb25TdG9yYWdlKENVUlJFTlRfVE9QX01FTlUpCiAgICAvLyBpZiAodG9wLm11bHRpVGFiICE9PSB1bmRlZmluZWQgJiYgYCR7dG9wLm11bHRpVGFifWAgIT09IGAke3RoaXMubXVsdGlUYWJ9YCkgewogICAgLy8gICBpZiAoYCR7dG9wLm11bHRpVGFifWAgPT09ICd0cnVlJykgewogICAgLy8gICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdUb2dnbGVNdWx0aVRhYicsIHRydWUpCiAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ1RvZ2dsZU11bHRpVGFiJywgZmFsc2UpCiAgICAvLyAgIH0KICAgIC8vIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIGhhbmRsZVNlbGVjdFRvcE1lbnUodG9wTWVudUlkKSB7CiAgICAvLyAgIGxldCBtZW51ID0ge30KICAgIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRvcE1lbnUubGVuZ3RoOyBpKyspIHsKICAgIC8vICAgICBpZiAoYCR7dGhpcy50b3BNZW51W2ldLmlkfWAgPT09IGAke3RvcE1lbnVJZH1gKSB7CiAgICAvLyAgICAgICBtZW51ID0gdGhpcy50b3BNZW51W2ldCiAgICAvLyAgICAgICBicmVhawogICAgLy8gICAgIH0KICAgIC8vICAgfQogICAgLy8gICB0aGlzLiRlbWl0KCdjbGljaycsIG1lbnUpCiAgICAvLyB9CiAgICBpbWdTcmM6IGZ1bmN0aW9uIChmaWxlUGF0aCkgewogICAgICByZXR1cm4gcHJlZml4Lk9QRU5fVVJMX1BSRUZJWCArIGZpbGVQYXRoCiAgICB9LAogICAgZ2V0U3ViTWVudTogZnVuY3Rpb24gKHRvcE1lbnUpIHsKICAgICAgaWYgKHRoaXMubW9kZSAhPT0gJ3NpZGVtZW51JykgewogICAgICAgIHJldHVybiB0aGlzLnN1Yk1lbnVzW3RvcE1lbnUuaWRdCiAgICAgIH0KICAgICAgcmV0dXJuIFtdCiAgICB9LAogICAgZ2V0VG9wTWVudVN0YXR1cyh0b3BNZW51SWQpIHsKICAgICAgaWYgKHRoaXMuYWxsVG9wTWVudXMgJiYgdGhpcy5hbGxUb3BNZW51c1t0b3BNZW51SWRdICYmIEFycmF5LmlzQXJyYXkodGhpcy5hbGxUb3BNZW51c1t0b3BNZW51SWRdKSAmJiB0aGlzLmFsbFRvcE1lbnVzW3RvcE1lbnVJZF0ubGVuZ3RoID4gMCkgewogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVTZWxlY3RUb3BNZW51KHRvcE1lbnUsIGV2ZW50KSB7CiAgICAgIC8vIGNvbnN0IHBhcmVudCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZQogICAgICBpZiAodG9wTWVudS50YXJnZXQgPT09ICdfYmxhbmsnKSB7CiAgICAgICAgc2V0U2Vzc2lvblN0b3JhZ2UoQ1VSUkVOVF9UT1BfTUVOVSwgdG9wTWVudS5pZCkKICAgICAgICB3aW5kb3cub3Blbih0b3BNZW51LnJlZGlyZWN0LCAnX2JsYW5rJykKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5wYXJlbnROb2RlLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudC5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5jaGlsZHJlbltpXS5jbGFzc05hbWUuaW5kZXhPZignYWN0aXZlJykgPiAtMSkgewogICAgICAgIC8vICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5jaGlsZHJlbltpXS5jbGFzc05hbWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUuY2hpbGRyZW5baV0uY2xhc3NOYW1lLnJlcGxhY2UoJ2FjdGl2ZScsICcnKQogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfQogICAgICAgIHRoaXMuc2VsZWN0S2V5ID0gdG9wTWVudS5pZAogICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NOYW1lID0gJ2FjdGl2ZScKICAgICAgICB0aGlzLiRlbWl0KCdjbGljaycsIHRvcE1lbnUpCiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["VenusTopMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VenusTopMenu.vue","sourceRoot":"src/components/pts/TopMenu","sourcesContent":["<template>\n  <div class=\"venus-top-menu\">\n    <ul class=\"list\">\n      <template v-for=\"menu in topMenu\">\n      <li :class=\"{ active: `${selectKey}` === `${menu.id}` }\"\n          @click.stop=\"handleSelectTopMenu(menu, $event)\"\n          v-if=\"getTopMenuStatus(menu.id)\"\n          :key=\"menu.id\">\n        <!-- <a-dropdown v-if=\"mode !== 'sidemenu' && itemClass(menu.id).active === true\">\n          <span class=\"ant-dropdown-link dropdownSpan\">\n            <span class=\"dropdownSpan-img\">\n              <img :src=\"imgSrc(menu.icon)\"\n                   class=\"top-menu-icon\" />\n            </span>\n            {{ menu.name }}\n            <div class=\"progress\"></div>\n          </span>\n          <s-menu slot=\"overlay\"\n                  class=\"venus-top-menu-dropdown-menu-wrapper\"\n                  :menu=\"getSubMenu(menu)\"\n                  :theme=\"theme\" />\n        </a-dropdown> -->\n        <span class=\"ant-dropdown-link dropdownSpan\">\n          <span class=\"dropdownSpan-img\">\n            <img :src=\"imgSrc(menu.icon)\"\n                 class=\"top-menu-icon\" />\n          </span>\n          {{ menu.name }}\n          <div class=\"progress\"></div>\n        </span>\n      </li>\n      </template>\n    </ul>\n  </div>\n</template>\n\n<script>\n/**\n *  作者：姚正超\n *  描述：V1.0版本，请勿随意乱更改组件\n *  日期：2020年5月9日\n */\nimport NProgress from 'nprogress' // progress bar\nimport Vue from 'vue'\nimport { CURRENT_TOP_MENU } from '@/store/mutation-types'\nimport { getSessionStorage, setSessionStorage } from '@/utils/util'\nimport prefix from '@/config/prefix'\n// import SubMenu from './SubMenu'\nimport SMenu from './SubMenu.js'\n\nexport default {\n  name: 'VenusTopMenu',\n  components: {\n    SMenu\n  },\n  props: {\n    topMenuList: {\n      type: Array,\n      default: () => []\n    },\n    mode: {\n      type: String,\n      default: 'sidemenu'\n    },\n    theme: {\n      type: String,\n      default: 'dark'\n    },\n    subMenus: {\n      type: Object,\n      required: true,\n      default: () => { }\n    },\n    allTopMenus: {\n      type: Object,\n      required: true,\n      default: () => { }\n    }\n  },\n  data() {\n    return {\n      topMenu: [],\n      selectKey: ''\n    }\n  },\n  computed: {\n    currentTopMenu: function () {\n      for (let i = 0; i < this.topMenuList.length; i++) {\n        if (`${this.topMenuList[i].id}` === `${getSessionStorage(CURRENT_TOP_MENU)}`) {\n          return this.topMenuList[i]\n        }\n      }\n      this.$message.error('没有找到对应的主菜单项')\n      return {}\n    }\n  },\n  created() {\n    this.topMenu = this.topMenuList.filter(menu => menu.visible === '0')\n    const top = this.currentTopMenu\n    if (top.layoutMode) {\n      this.$store.dispatch('ToggleLayoutMode', top.layoutMode)\n    }\n    this.selectKey = getSessionStorage(CURRENT_TOP_MENU)\n    // if (top.multiTab !== undefined && `${top.multiTab}` !== `${this.multiTab}`) {\n    //   if (`${top.multiTab}` === 'true') {\n    //     this.$store.dispatch('ToggleMultiTab', true)\n    //   } else {\n    //     this.$store.dispatch('ToggleMultiTab', false)\n    //   }\n    // }\n  },\n  methods: {\n    // handleSelectTopMenu(topMenuId) {\n    //   let menu = {}\n    //   for (let i = 0; i < this.topMenu.length; i++) {\n    //     if (`${this.topMenu[i].id}` === `${topMenuId}`) {\n    //       menu = this.topMenu[i]\n    //       break\n    //     }\n    //   }\n    //   this.$emit('click', menu)\n    // }\n    imgSrc: function (filePath) {\n      return prefix.OPEN_URL_PREFIX + filePath\n    },\n    getSubMenu: function (topMenu) {\n      if (this.mode !== 'sidemenu') {\n        return this.subMenus[topMenu.id]\n      }\n      return []\n    },\n    getTopMenuStatus(topMenuId) {\n      if (this.allTopMenus && this.allTopMenus[topMenuId] && Array.isArray(this.allTopMenus[topMenuId]) && this.allTopMenus[topMenuId].length > 0) {\n        return true\n      } else {\n        return false\n      }\n    },\n    handleSelectTopMenu(topMenu, event) {\n      // const parent = event.currentTarget.parentNode\n      if (topMenu.target === '_blank') {\n        setSessionStorage(CURRENT_TOP_MENU, topMenu.id)\n        window.open(topMenu.redirect, '_blank')\n      } else {\n        // if (event.currentTarget.parentNode.children.length) {\n        //   for (let i = 0; i < event.currentTarget.parentNode.children.length; i++) {\n        //     if (event.currentTarget.parentNode.children[i].className.indexOf('active') > -1) {\n        //       event.currentTarget.parentNode.children[i].className = event.currentTarget.parentNode.children[i].className.replace('active', '')\n        //     }\n        //   }\n        // }\n        this.selectKey = topMenu.id\n        event.currentTarget.className = 'active'\n        this.$emit('click', topMenu)\n      }\n    }\n  }\n}\n</script>\n"]}]}