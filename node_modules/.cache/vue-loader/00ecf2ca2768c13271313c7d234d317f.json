{"remainingRequest":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/layouts/PTSLayout.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/src/layouts/PTSLayout.vue","mtime":1605568762432},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cxdpc/WorkSpaces/idea_workspace/wedding-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLyoKICogVGhlIGZvbGxvd2luZyBzdHlsZXMgYXJlIGF1dG8tYXBwbGllZCB0byBlbGVtZW50cyB3aXRoCiAqIHRyYW5zaXRpb249InBhZ2UtdHJhbnNpdGlvbiIgd2hlbiB0aGVpciB2aXNpYmlsaXR5IGlzIHRvZ2dsZWQKICogYnkgVnVlLmpzLgogKgogKiBZb3UgY2FuIGVhc2lseSBwbGF5IHdpdGggdGhlIHBhZ2UgdHJhbnNpdGlvbiBieSBlZGl0aW5nCiAqIHRoZXNlIHN0eWxlcy4KICovCgoucGFnZS10cmFuc2l0aW9uLWVudGVyIHsKICBvcGFjaXR5OiAwOwp9CgoucGFnZS10cmFuc2l0aW9uLWxlYXZlLWFjdGl2ZSB7CiAgb3BhY2l0eTogMDsKfQoKLnBhZ2UtdHJhbnNpdGlvbi1lbnRlciAucGFnZS10cmFuc2l0aW9uLWNvbnRhaW5lciwKLnBhZ2UtdHJhbnNpdGlvbi1sZWF2ZS1hY3RpdmUgLnBhZ2UtdHJhbnNpdGlvbi1jb250YWluZXIgewogIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxLjEpOwogIHRyYW5zZm9ybTogc2NhbGUoMS4xKTsKfQoucHRzLWxheW91dCB7CiAgLnBhZ2UtaGVhZGVyLAogIC5hbnQtbGF5b3V0LWhlYWRlciwKICAuYW50LXByby1tdWx0aS10YWIsCiAgLmFudC1wcm8tbXVsdGktdGFiIC5hbnQtdGFicy10YWIsCiAgLmFudC1sYXlvdXQtZm9vdGVyLAogIC5jb250ZW50LXdpZHRoLUZpeGVkIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7CiAgfQogIC5hbnQtcHJvLW11bHRpLXRhYiB7CiAgICBtYXJnaW46IDAgMCA4cHggIWltcG9ydGFudDsKICAgIC5hbnQtdGFicy1uYXYtY29udGFpbmVyIHsKICAgICAgaGVpZ2h0OiA1MHB4ICFpbXBvcnRhbnQ7CiAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7CiAgICAgIHBhZGRpbmctbGVmdDogMjRweDsKICAgIH0KICAgIC5hbnQtdGFicy10YWItcHJldiwKICAgIC5hbnQtdGFicy10YWItbmV4dCB7CiAgICAgIGNvbG9yOiAjZmZmOwogICAgICBiYWNrZ3JvdW5kOiAjMDUxMjM3OwogICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsKICAgICAgd2lkdGg6IDI0cHg7CiAgICAgIC5hbnQtdGFicy10YWItcHJldi1pY29uLXRhcmdldCwKICAgICAgLmFudC10YWJzLXRhYi1uZXh0LWljb24tdGFyZ2V0IHsKICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgIH0KICAgICAgJi5hbnQtdGFicy10YWItYnRuLWRpc2FibGVkIHsKICAgICAgICBjb2xvcjogIzkwOTA5MDsKICAgICAgfQogICAgICAmOmhvdmVyOm5vdCguYW50LXRhYnMtdGFiLWJ0bi1kaXNhYmxlZCkgewogICAgICAgIGJhY2tncm91bmQtY29sb3I6IEBwcmltYXJ5LWNvbG9yOwogICAgICB9CiAgICB9CiAgICAuYW50LXRhYnMtdGFiIHsKICAgICAgaGVpZ2h0OiAzMHB4ICFpbXBvcnRhbnQ7CiAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4ICFpbXBvcnRhbnQ7CiAgICAgIGJvcmRlci1yYWRpdXM6IDBweCAhaW1wb3J0YW50OwogICAgICBib3JkZXI6IHNvbGlkIDFweCAjM2Q2OWQ3ICFpbXBvcnRhbnQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwNTEyMzcgIWltcG9ydGFudDsKICAgICAgbWFyZ2luLXJpZ2h0OiA4cHggIWltcG9ydGFudDsKICAgICAgJiwKICAgICAgLmFudGljb24tY2xvc2UgewogICAgICAgIGNvbG9yOiAjN2NhMmYyICFpbXBvcnRhbnQ7CiAgICAgIH0KICAgICAgbGV0dGVyLXNwYWNpbmc6IDFweDsKICAgICAgJi5hbnQtdGFicy10YWItYWN0aXZlIHsKICAgICAgICBib3JkZXI6IHNvbGlkIDFweCAjMzdmM2ZmICFpbXBvcnRhbnQ7CiAgICAgICAgJiwKICAgICAgICAuYW50aWNvbi1jbG9zZSB7CiAgICAgICAgICBjb2xvcjogIzM3ZjNmZiAhaW1wb3J0YW50OwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLmFudC10YWJzLW5hdi13cmFwIHsKICAgICAgYmFja2dyb3VuZDogIzBkMTI0NCAhaW1wb3J0YW50OwogICAgICBvcGFjaXR5OiAwLjc7CiAgICAgIHBhZGRpbmc6IDEwcHggMHB4OwogICAgfQogICAgLmFudC10YWJzLWJhciB7CiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsKICAgIH0KICB9CiAgLnBhZ2UtaGVhZGVyIHsKICAgIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50OwogICAgLmJyZWFkY3J1bWIgewogICAgICAmLAogICAgICAuYW50LWJyZWFkY3J1bWItbGluaywKICAgICAgLmFudC1icmVhZGNydW1iLXNlcGFyYXRvciB7CiAgICAgICAgY29sb3I6ICM2ODg5ZDA7CiAgICAgIH0KICAgICAgLnJvdXRlci1saW5rLWFjdGl2ZSB7CiAgICAgICAgY29sb3I6IEBwcmltYXJ5LWNvbG9yOwogICAgICB9CiAgICB9CiAgfQogIGJhY2tncm91bmQ6IHVybCh+QC9hc3NldHMvcHRzTGF5b3V0L2JnLnBuZykgbm8tcmVwZWF0IGJvdHRvbS9jb3ZlciAhaW1wb3J0YW50Owp9Ci5wdHMtbGF5b3V0IHsKLmFudC1sYXlvdXQtY29udGVudCB7CiAgbWFyZ2luLWJvdHRvbTogMTQ4cHggIWltcG9ydGFudDsKfQp9Ci5wdHMtZm9vdGVyIHsKICBwYWRkaW5nOiAwcHggIWltcG9ydGFudDsKICAvLyBiYWNrZ3JvdW5kOiB1cmwofkAvYXNzZXRzL3B0c0xheW91dC9iZy5wbmcpIG5vLXJlcGVhdCBib3R0b20vY292ZXIgIWltcG9ydGFudDsKICAuZm9vdGVyIHsKICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMTIsIDQ1LCAwLjg2KSAhaW1wb3J0YW50OwogIH0KICBwb3NpdGlvbjogZml4ZWQ7CiAgd2lkdGg6IDEwMCU7CiAgYm90dG9tOiAwOwogIHotaW5kZXg6IDEwOwp9Cg=="},{"version":3,"sources":["PTSLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PTSLayout.vue","sourceRoot":"src/layouts","sourcesContent":["<template>\n  <a-layout :class=\"['pts-layout', device]\" id=\"backStageManagement\" :style=\"{minHeight: '100vh' }\">\n    <a-layout :class=\"[`content-width-${contentWidth}`]\"\n              :style=\"{ minHeight: '100vh' }\">\n      <!-- layout header -->\n      <p-header :theme=\"navTheme\"/>\n\n      <!-- layout content -->\n      <a-layout-content :style=\"{ height: '100%', margin: '24px 24px 0', paddingTop: fixedHeader ? '81px' : '0px' }\">\n        <multi-tab v-if=\"multiTab && isSideMenu ()\"\n                   ref=\"multiTab\"\n                   :currentTopMenu=\"currentTopMenu\"></multi-tab>\n        <transition name=\"page-transition\">\n          <route-view />\n        </transition>\n      </a-layout-content>\n\n      <!-- layout footer -->\n      <a-layout-footer class=\"pts-footer\">\n        <p-footer :top-menu-list=\"topMenuList\" :all-menus=\"allMenus\" />\n      </a-layout-footer>\n\n      <!-- Setting Drawer (show in development mode) -->\n      <setting-drawer v-if=\"!production\"></setting-drawer>\n    </a-layout>\n  </a-layout>\n</template>\n\n<script>\nimport { triggerWindowResizeEvent, getSessionStorage, setSessionStorage } from '@/utils/util'\nimport { mapState, mapActions } from 'vuex'\nimport { mixin, mixinDevice } from '@/utils/mixin'\nimport config from '@/config/defaultSettings'\n\nimport RouteView from './RouteView'\nimport SideMenu from '@/components/Menu/SideMenu'\nimport PFooter from '@/components/pts/Layout/PFooter.vue'\nimport PHeader from '@/components/pts/Layout/PHeader.vue'\nimport SettingDrawer from '@/components/SettingDrawer'\nimport { updateTheme, updateColorWeak } from '@/components/SettingDrawer/settingConfig'\nimport { convertRoutes } from '@/utils/routeConvert'\nimport Vue from 'vue'\nimport { CURRENT_TOP_MENU } from '@/store/mutation-types'\nimport router from '@/router'\n\nexport default {\n  name: 'PTSLayout',\n  mixins: [mixin, mixinDevice],\n  components: {\n    RouteView,\n    SideMenu,\n    PHeader,\n    PFooter,\n    SettingDrawer\n  },\n  data() {\n    return {\n      production: config.production,\n      collapsed: false,\n      menus: [],\n      allMenus: {}\n    }\n  },\n  computed: {\n    ...mapState({\n      // 动态主路由\n      mainMenu: state => state.permission.addRouters,\n      topMenuList: state => state.permission.topMenuList\n    }),\n    currentTopMenu: function () {\n      for (let i = 0; i < this.topMenuList.length; i++) {\n        if (`${this.topMenuList[i].id}` === `${getSessionStorage(CURRENT_TOP_MENU)}`) {\n          return this.topMenuList[i]\n        }\n      }\n      this.$message.error('没有找到对应的主菜单项')\n      return {}\n    },\n    contentPaddingLeft() {\n      if (!this.fixSidebar || this.isMobile() || this.layoutMode === 'topmenu') {\n        return '0'\n      }\n      if (this.sidebarOpened) {\n        return '256px'\n      }\n      return '80px'\n    }\n  },\n  watch: {\n    sidebarOpened(val) {\n      this.collapsed = !val\n    }\n  },\n  created() {\n    // 添加新版PTS body类名\n    document.body.classList.add('pts-body-layout')\n\n    const _this = this\n    const allRoutes = {}\n    Object.keys(this.mainMenu).forEach(topMenuId => {\n      const routes = convertRoutes(this.mainMenu[topMenuId].find(item => item.path === '/'))\n      if (`${topMenuId}` === `${getSessionStorage(CURRENT_TOP_MENU)}`) {\n        _this.menus = (routes && routes.children) || []\n      }\n      allRoutes[topMenuId] = (routes && routes.children) || []\n    })\n    this.allMenus = allRoutes\n    this.collapsed = !this.sidebarOpened\n  },\n  mounted() {\n    updateTheme(this.primaryColor)\n    updateColorWeak(this.colorWeak)\n    const userAgent = navigator.userAgent\n    if (userAgent.indexOf('Edge') > -1) {\n      this.$nextTick(() => {\n        this.collapsed = !this.collapsed\n        setTimeout(() => {\n          this.collapsed = !this.collapsed\n        }, 16)\n      })\n    }\n  },\n  methods: {\n    ...mapActions(['setSidebar', 'GenerateRoutes']),\n    toggle() {\n      this.collapsed = !this.collapsed\n      this.setSidebar(!this.collapsed)\n      triggerWindowResizeEvent()\n    },\n    paddingCalc() {\n      let left = ''\n      if (this.sidebarOpened) {\n        left = this.isDesktop() ? '256px' : '80px'\n      } else {\n        left = (this.isMobile() && '0') || (this.fixSidebar && '80px') || '0'\n      }\n      return left\n    },\n    menuSelect() {\n      // if (!this.isDesktop()) {\n      //   this.collapsed = false\n      // }\n    },\n    drawerClose() {\n      this.collapsed = false\n    },\n    handleSelectTopMenu(topMenu) {\n      const topMenuId = topMenu.id\n      setSessionStorage(CURRENT_TOP_MENU, topMenuId)\n      if (this.mainMenu[topMenuId] && this.mainMenu[topMenuId].length) {\n        const routes = convertRoutes(this.mainMenu[topMenuId].find(item => item.path === '/'))\n        this.menus = (routes && routes.children) || []\n        this.$nextTick(() => {\n          if (`${topMenu.multiTab}` === 'true') {\n            this.$refs.multiTab.indexPage = {\n              fullPath: topMenu.component,\n              name: topMenu.code,\n              meta: { title: topMenu.name },\n              closable: false\n            }\n          } else {\n            this.$router.push({ path: topMenu.component })\n          }\n        })\n        // this.$router.push({ name: 'dashboard' })\n      }\n      // 切换导航模式及其他系统配置\n      if (topMenu.layoutMode) {\n        this.$store.dispatch('ToggleLayoutMode', topMenu.layoutMode)\n      }\n      if (topMenu.multiTab !== undefined && `${topMenu.multiTab}` !== `${this.multiTab}`) {\n        if (`${topMenu.multiTab}` === 'true') {\n          this.$store.dispatch('ToggleMultiTab', true)\n        } else {\n          this.$store.dispatch('ToggleMultiTab', false)\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n/*\n * The following styles are auto-applied to elements with\n * transition=\"page-transition\" when their visibility is toggled\n * by Vue.js.\n *\n * You can easily play with the page transition by editing\n * these styles.\n */\n\n.page-transition-enter {\n  opacity: 0;\n}\n\n.page-transition-leave-active {\n  opacity: 0;\n}\n\n.page-transition-enter .page-transition-container,\n.page-transition-leave-active .page-transition-container {\n  -webkit-transform: scale(1.1);\n  transform: scale(1.1);\n}\n.pts-layout {\n  .page-header,\n  .ant-layout-header,\n  .ant-pro-multi-tab,\n  .ant-pro-multi-tab .ant-tabs-tab,\n  .ant-layout-footer,\n  .content-width-Fixed {\n    background-color: transparent !important;\n  }\n  .ant-pro-multi-tab {\n    margin: 0 0 8px !important;\n    .ant-tabs-nav-container {\n      height: 50px !important;\n      padding-right: 24px;\n      padding-left: 24px;\n    }\n    .ant-tabs-tab-prev,\n    .ant-tabs-tab-next {\n      color: #fff;\n      background: #051237;\n      transition: all 0.3s;\n      width: 24px;\n      .ant-tabs-tab-prev-icon-target,\n      .ant-tabs-tab-next-icon-target {\n        font-size: 16px;\n      }\n      &.ant-tabs-tab-btn-disabled {\n        color: #909090;\n      }\n      &:hover:not(.ant-tabs-tab-btn-disabled) {\n        background-color: @primary-color;\n      }\n    }\n    .ant-tabs-tab {\n      height: 30px !important;\n      line-height: 30px !important;\n      border-radius: 0px !important;\n      border: solid 1px #3d69d7 !important;\n      background-color: #051237 !important;\n      margin-right: 8px !important;\n      &,\n      .anticon-close {\n        color: #7ca2f2 !important;\n      }\n      letter-spacing: 1px;\n      &.ant-tabs-tab-active {\n        border: solid 1px #37f3ff !important;\n        &,\n        .anticon-close {\n          color: #37f3ff !important;\n        }\n      }\n    }\n    .ant-tabs-nav-wrap {\n      background: #0d1244 !important;\n      opacity: 0.7;\n      padding: 10px 0px;\n    }\n    .ant-tabs-bar {\n      border-color: transparent !important;\n    }\n  }\n  .page-header {\n    border: none !important;\n    .breadcrumb {\n      &,\n      .ant-breadcrumb-link,\n      .ant-breadcrumb-separator {\n        color: #6889d0;\n      }\n      .router-link-active {\n        color: @primary-color;\n      }\n    }\n  }\n  background: url(~@/assets/ptsLayout/bg.png) no-repeat bottom/cover !important;\n}\n.pts-layout {\n.ant-layout-content {\n  margin-bottom: 148px !important;\n}\n}\n.pts-footer {\n  padding: 0px !important;\n  // background: url(~@/assets/ptsLayout/bg.png) no-repeat bottom/cover !important;\n  .footer {\n    background: rgba(0, 12, 45, 0.86) !important;\n  }\n  position: fixed;\n  width: 100%;\n  bottom: 0;\n  z-index: 10;\n}\n</style>\n"]}]}